<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "5cc6836626047aa055e8960c8484a7d0",
  "translation_date": "2025-08-29T10:54:52+00:00",
  "source_file": "11-agentic-protocols/code_samples/mcp-agents/README.md",
  "language_code": "ne"
}
-->
# MCP рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдПрдЬреЗрдиреНрдЯ-рджреЗрдЦрд┐-рдПрдЬреЗрдиреНрдЯ рд╕рдВрдЪрд╛рд░ рдкреНрд░рдгрд╛рд▓реА рдирд┐рд░реНрдорд╛рдг

> рдЫреЛрдЯрдХрд░реАрдорд╛ - рдХреЗ рддрдкрд╛рдИ MCP рдорд╛ Agent2Agent рд╕рдВрдЪрд╛рд░ рдкреНрд░рдгрд╛рд▓реА рдирд┐рд░реНрдорд╛рдг рдЧрд░реНрди рд╕рдХреНрдиреБрд╣реБрдиреНрдЫ? рд╣реЛ, рд╕рдХрд┐рдиреНрдЫ!

MCP рдЖрдлреНрдиреЛ рдкреНрд░рд╛рд░рдореНрднрд┐рдХ рдЙрджреНрджреЗрд╢реНрдп "LLMs рд▓рд╛рдИ рд╕рдиреНрджрд░реНрдн рдкреНрд░рджрд╛рди рдЧрд░реНрдиреЗ" рднрдиреНрджрд╛ рдзреЗрд░реИ рдкрд░рд┐рдкрдХреНрд╡ рднрдЗрд╕рдХреЗрдХреЛ рдЫред рд╣рд╛рд▓реИрдХрд╛ рд╕реБрдзрд╛рд░рд╣рд░реВ рдЬрд╕реНрддреИ [resumable streams](https://modelcontextprotocol.io/docs/concepts/transports#resumability-and-redelivery), [elicitation](https://modelcontextprotocol.io/specification/2025-06-18/client/elicitation), [sampling](https://modelcontextprotocol.io/specification/2025-06-18/client/sampling), рд░ рд╕реВрдЪрдирд╛рд╣рд░реВ ([progress](https://modelcontextprotocol.io/specification/2025-06-18/basic/utilities/progress) рд░ [resources](https://modelcontextprotocol.io/specification/2025-06-18/schema#resourceupdatednotification)) рдХреЛ рд╕рдорд╛рд╡реЗрд╢рд▓реЗ MCP рд▓рд╛рдИ рдЬрдЯрд┐рд▓ рдПрдЬреЗрдиреНрдЯ-рджреЗрдЦрд┐-рдПрдЬреЗрдиреНрдЯ рд╕рдВрдЪрд╛рд░ рдкреНрд░рдгрд╛рд▓реА рдирд┐рд░реНрдорд╛рдгрдХрд╛ рд▓рд╛рдЧрд┐ рдмрд▓рд┐рдпреЛ рдЖрдзрд╛рд░ рдкреНрд░рджрд╛рди рдЧрд░реЗрдХреЛ рдЫред

## рдПрдЬреЗрдиреНрдЯ/рдЯреВрд▓рдХреЛ рднреНрд░рдо

рдЬрдм рдзреЗрд░реИ рд╡рд┐рдХрд╛рд╕рдХрд░реНрддрд╛рд╣рд░реВрд▓реЗ рдПрдЬреЗрдиреНрдЯрд┐рдХ рд╡реНрдпрд╡рд╣рд╛рд░ рднрдПрдХрд╛ рдЙрдкрдХрд░рдгрд╣рд░реВ (рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ, рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирдХреЛ рдмреАрдЪрдорд╛ рдердк рдЗрдирдкреБрдЯ рдЖрд╡рд╢реНрдпрдХ рдкрд░реНрдиреЗ, рдЖрджрд┐) рдЕрдиреНрд╡реЗрд╖рдг рдЧрд░реНрди рдерд╛рд▓реНрдЫрдиреН, рдПрдЙрдЯрд╛ рд╕рд╛рдорд╛рдиреНрдп рднреНрд░рдо рдпреЛ рдЫ рдХрд┐ MCP рдЙрдкрдпреБрдХреНрдд рдЫреИрди, рдореБрдЦреНрдпрддрдГ рдХрд┐рдирднрдиреЗ рдпрд╕рдХреЛ рдкреНрд░рд╛рд░рдореНрднрд┐рдХ рдЙрдкрдХрд░рдгрд╣рд░реВрдХреЛ рдЙрджрд╛рд╣рд░рдгрд▓реЗ рд╕рд╛рдзрд╛рд░рдг рдЕрдиреБрд░реЛрдз-рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдврд╛рдБрдЪрд╛рдорд╛ рдзреНрдпрд╛рди рдХреЗрдиреНрджреНрд░рд┐рдд рдЧрд░реЗрдХреЛ рдерд┐рдпреЛред

рдпреЛ рдзрд╛рд░рдгрд╛ рдЕрдм рдкреБрд░рд╛рдиреЛ рднрдЗрд╕рдХреЗрдХреЛ рдЫред рдкрдЫрд┐рд▓реНрд▓рд╛ рдХреЗрд╣реА рдорд╣рд┐рдирд╛рдорд╛ MCP рд╡рд┐рд╢рд┐рд╖реНрдЯрддрд╛рдорд╛ рднрдПрдХрд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕реБрдзрд╛рд░рд╣рд░реВрд▓реЗ рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ рдПрдЬреЗрдиреНрдЯрд┐рдХ рд╡реНрдпрд╡рд╣рд╛рд░ рдирд┐рд░реНрдорд╛рдгрдХрд╛ рд▓рд╛рдЧрд┐ рдЖрд╡рд╢реНрдпрдХ рдХреНрд╖рдорддрд╛рд╣рд░реВрдХреЛ рдЦрд╛рдбрд▓рд▓рд╛рдИ рдкреВрд░реНрддрд┐ рдЧрд░реЗрдХрд╛ рдЫрдиреН:

- **Streaming & Partial Results**: рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирдХреЛ рдХреНрд░рдордорд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ-рд╕рдордп рдкреНрд░рдЧрддрд┐ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХрд╣рд░реВ
- **Resumability**: рдбрд┐рд╕реНрдХрдиреЗрдХреНрд╢рдирдкрдЫрд┐ рдкреБрди: рдЬрдбрд╛рди рд░ рдирд┐рд░рдиреНрддрд░рддрд╛
- **Durability**: рдкрд░рд┐рдгрд╛рдорд╣рд░реВ рд╕рд░реНрднрд░ рдкреБрдирдГрд╕реБрд░реБ рднрдПрдкрдЫрд┐ рдкрдирд┐ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рд╣рдиреНрдЫрдиреН (рдЬрд╕реНрддреИ, resource links рдорд╛рд░реНрдлрдд)
- **Multi-turn**: рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирдХреЛ рдмреАрдЪрдорд╛ рдЕрдиреНрддрд░рдХреНрд░рд┐рдпрд╛рддреНрдордХ рдЗрдирдкреБрдЯ (elicitation рд░ sampling рдорд╛рд░реНрдлрдд)

рдпреА рд╕реБрд╡рд┐рдзрд╛рд╣рд░реВрд▓рд╛рдИ рд╕рдВрдпреЛрдЬрди рдЧрд░реЗрд░ рдЬрдЯрд┐рд▓ рдПрдЬреЗрдиреНрдЯрд┐рдХ рд░ рдмрд╣реБ-рдПрдЬреЗрдиреНрдЯ рдЕрдиреБрдкреНрд░рдпреЛрдЧрд╣рд░реВ рд╕рдХреНрд╖рдо рдмрдирд╛рдЙрди рд╕рдХрд┐рдиреНрдЫ, рдЬреБрди рд╕рдмреИ MCP рдкреНрд░реЛрдЯреЛрдХрд▓рдорд╛ рддреИрдирд╛рде рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫред

рд╕рдиреНрджрд░реНрднрдХрд╛ рд▓рд╛рдЧрд┐, рд╣рд╛рдореА рдПрдЬреЗрдиреНрдЯрд▓рд╛рдИ "рдЯреВрд▓" рднрдиреЗрд░ рдЙрд▓реНрд▓реЗрдЦ рдЧрд░реНрдиреЗрдЫреМрдВ рдЬреБрди MCP рд╕рд░реНрднрд░рдорд╛ рдЙрдкрд▓рдмреНрдз рдЫред рдпрд╕рдХреЛ рдорддрд▓рдм рд╣реЛрд╕реНрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╕рдирдХреЛ рдЕрд╕реНрддрд┐рддреНрд╡, рдЬрд╕рд▓реЗ MCP рдХреНрд▓рд╛рдЗрдиреНрдЯ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЧрд░реНрджрдЫ, MCP рд╕рд░реНрднрд░рд╕рдБрдЧ рд╕рддреНрд░ рд╕реНрдерд╛рдкрдирд╛ рдЧрд░реНрджрдЫ, рд░ рдПрдЬреЗрдиреНрдЯрд▓рд╛рдИ рдХрд▓ рдЧрд░реНрди рд╕рдХреНрдЫред

## рдХреЗ MCP рдЯреВрд▓рд▓рд╛рдИ "рдПрдЬреЗрдиреНрдЯрд┐рдХ" рдмрдирд╛рдЙрдБрдЫ?

рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирдорд╛ рдЬрд╛рдиреБ рдЕрдШрд┐, рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрд▓рд╛рдИ рд╕рдорд░реНрдерди рдЧрд░реНрди рдЖрд╡рд╢реНрдпрдХ рдкреВрд░реНрд╡рд╛рдзрд╛рд░ рдХреНрд╖рдорддрд╛рд╣рд░реВ рдХреЗ рд╣реБрдиреН рднрдиреЗрд░ рд╕реНрдкрд╖реНрдЯ рдЧрд░реМрдВред

> рд╣рд╛рдореА рдПрдЬреЗрдиреНрдЯрд▓рд╛рдИ рдпрд╕реНрддреЛ рдЗрдХрд╛рдИрдХреЛ рд░реВрдкрдорд╛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдЧрд░реНрдиреЗрдЫреМрдВ, рдЬрд╕рд▓реЗ рд╕реНрд╡рддрдиреНрддреНрд░ рд░реВрдкрдорд╛ рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рд╕рдЮреНрдЪрд╛рд▓рди рдЧрд░реНрди рд╕рдХреНрдЫ, рдЬрдЯрд┐рд▓ рдХрд╛рд░реНрдпрд╣рд░реВ рд╕рдореНрд╣рд╛рд▓реНрди рд╕рдХреНрд╖рдо рдЫ, рдЬрд╕рдорд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ-рд╕рдордп рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдЕрдиреБрд╕рд╛рд░ рдзреЗрд░реИ рдЕрдиреНрддрд░рдХреНрд░рд┐рдпрд╛рд╣рд░реВ рд╡рд╛ рд╕рдорд╛рдпреЛрдЬрдирд╣рд░реВ рдЖрд╡рд╢реНрдпрдХ рдкрд░реНрди рд╕рдХреНрдЫред

### рез. Streaming & Partial Results

рдкрд╛рд░рдореНрдкрд░рд┐рдХ рдЕрдиреБрд░реЛрдз-рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдврд╛рдБрдЪрд╛рд╣рд░реВ рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ рдХрд╛рд░реНрдпрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рдЙрдкрдпреБрдХреНрдд рд╣реБрдБрджреИрдирдиреНред рдПрдЬреЗрдиреНрдЯрд╣рд░реВрд▓реЗ рдирд┐рдореНрди рдкреНрд░рджрд╛рди рдЧрд░реНрди рдЖрд╡рд╢реНрдпрдХ рдЫ:

- рд╡рд╛рд╕реНрддрд╡рд┐рдХ-рд╕рдордп рдкреНрд░рдЧрддрд┐ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХрд╣рд░реВ
- рдордзреНрдпрд╡рд░реНрддреА рдкрд░рд┐рдгрд╛рдорд╣рд░реВ

**MCP рд╕рдорд░реНрдерди**: Resource update notifications рд▓реЗ рдЖрдВрд╢рд┐рдХ рдкрд░рд┐рдгрд╛рдорд╣рд░реВрдХреЛ рд╕реНрдЯреНрд░рд┐рдорд┐рдЩрд▓рд╛рдИ рд╕рдХреНрд╖рдо рдмрдирд╛рдЙрдБрдЫ, рдпрджреНрдпрдкрд┐ рдпреЛ JSON-RPC рдХреЛ рез:рез рдЕрдиреБрд░реЛрдз/рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЛрдбреЗрд▓рд╕рдБрдЧ рджреНрд╡рдиреНрджреНрд╡ рдЯрд╛рд░реНрди рд╕рд╛рд╡рдзрд╛рдиреАрдкреВрд░реНрд╡рдХ рдбрд┐рдЬрд╛рдЗрди рдЖрд╡рд╢реНрдпрдХ рдЫред

| рд╕реБрд╡рд┐рдзрд╛                     | рдкреНрд░рдпреЛрдЧ рдХреЗрд╕                                                                                                                                                                       | MCP рд╕рдорд░реНрдерди                                                                                 |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------ |
| рд╡рд╛рд╕реНрддрд╡рд┐рдХ-рд╕рдордп рдкреНрд░рдЧрддрд┐ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХ | рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓реЗ рдХреЛрдбрдмреЗрд╕ рдорд╛рдЗрдЧреНрд░реЗрд╕рди рдХрд╛рд░реНрдп рдЕрдиреБрд░реЛрдз рдЧрд░реНрдЫред рдПрдЬреЗрдиреНрдЯрд▓реЗ рдкреНрд░рдЧрддрд┐ рд╕реНрдЯреНрд░рд┐рдо рдЧрд░реНрдЫ: "резреж% - рдирд┐рд░реНрднрд░рддрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдЧрд░реНрджреИ... реирел% - рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдлрд╛рдЗрд▓рд╣рд░реВ рд░реВрдкрд╛рдиреНрддрд░рдг рдЧрд░реНрджреИ... релреж% - рдЖрдпрд╛рдд рдЕрджреНрдпрд╛рд╡рдзрд┐рдХ рдЧрд░реНрджреИ..."          | тЬЕ рдкреНрд░рдЧрддрд┐ рд╕реВрдЪрдирд╛рд╣рд░реВ                                                                  |
| рдЖрдВрд╢рд┐рдХ рдкрд░рд┐рдгрд╛рдорд╣рд░реВ            | "рдкреБрд╕реНрддрдХ рдЙрддреНрдкрдиреНрди рдЧрд░реНрдиреБрд╣реЛрд╕реН" рдХрд╛рд░реНрдпрд▓реЗ рдЖрдВрд╢рд┐рдХ рдкрд░рд┐рдгрд╛рдорд╣рд░реВ рд╕реНрдЯреНрд░рд┐рдо рдЧрд░реНрдЫ, рдЬрд╕реНрддреИ, рез) рдХрдерд╛ рдЪрд╛рдк рд░реВрдкрд░реЗрдЦрд╛, реи) рдЕрдзреНрдпрд╛рдп рд╕реВрдЪреА, рей) рдкреНрд░рддреНрдпреЗрдХ рдЕрдзреНрдпрд╛рдп рдкреВрд░рд╛ рднрдПрдкрдЫрд┐ред рд╣реЛрд╕реНрдЯрд▓реЗ рдХреБрдиреИ рдкрдирд┐ рдЪрд░рдгрдорд╛ рдирд┐рд░реАрдХреНрд╖рдг, рд░рджреНрдж, рд╡рд╛ рдкреБрди: рдирд┐рд░реНрджреЗрд╢рди рдЧрд░реНрди рд╕рдХреНрдЫред | тЬЕ рд╕реВрдЪрдирд╛рд╣рд░реВрд▓рд╛рдИ "рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд" рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫ, рдЖрдВрд╢рд┐рдХ рдкрд░рд┐рдгрд╛рдорд╣рд░реВ рд╕рдорд╛рд╡реЗрд╢ рдЧрд░реНрди PR 383, 776 рдорд╛ рдкреНрд░рд╕реНрддрд╛рд╡рд╣рд░реВ рд╣реЗрд░реНрдиреБрд╣реЛрд╕реН |

<div align="center" style="font-style: italic; font-size: 0.95em; margin-bottom: 0.5em;">
<strong>рдЪрд┐рддреНрд░ рез:</strong> рдпреЛ рдЖрд░реЗрдЦрд▓реЗ рджреЗрдЦрд╛рдЙрдБрдЫ рдХрд┐ рдХрд╕рд░реА MCP рдПрдЬреЗрдиреНрдЯрд▓реЗ рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ рдХрд╛рд░реНрдпрдХреЛ рдХреНрд░рдордорд╛ рд╣реЛрд╕реНрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╕рдирдорд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ-рд╕рдордп рдкреНрд░рдЧрддрд┐ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХрд╣рд░реВ рд░ рдЖрдВрд╢рд┐рдХ рдкрд░рд┐рдгрд╛рдорд╣рд░реВ рд╕реНрдЯреНрд░рд┐рдо рдЧрд░реНрдЫ, рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд▓рд╛рдИ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордпрдорд╛ рдЕрдиреБрдЧрдорди рдЧрд░реНрди рд╕рдХреНрд╖рдо рдмрдирд╛рдЙрдБрдЫред
</div>

```mermaid
sequenceDiagram
    participant User
    participant Host as Host App<br/>(MCP Client)
    participant Server as MCP Server<br/>(Agent Tool)

    User->>Host: Start long task
    Host->>Server: Call agent_tool()

    loop Progress Updates
        Server-->>Host: Progress + partial results
        Host-->>User: Stream updates
    end

    Server-->>Host: тЬЕ Final result
    Host-->>User: Complete
```

### реи. Resumability

рдПрдЬреЗрдиреНрдЯрд╣рд░реВрд▓реЗ рдиреЗрдЯрд╡рд░реНрдХ рдЕрд╡рд░реЛрдзрд╣рд░реВрд▓рд╛рдИ рд╕рд╣рдЬ рд░реВрдкрдорд╛ рд╕рдореНрд╣рд╛рд▓реНрди рд╕рдХреНрд╖рдо рд╣реБрдиреБрдкрд░реНрдЫ:

- (рдХреНрд▓рд╛рдЗрдиреНрдЯ) рдбрд┐рд╕реНрдХрдиреЗрдХреНрд╢рдирдкрдЫрд┐ рдкреБрди: рдЬрдбрд╛рди
- рдЬрд╣рд╛рдБрдмрд╛рдЯ рдЫреЛрдбрд┐рдПрдХреЛ рдерд┐рдпреЛ, рддреНрдпрд╣рд╛рдБрдмрд╛рдЯ рдирд┐рд░рдиреНрддрд░рддрд╛ (рд╕рдиреНрджреЗрд╢ рдкреБрди: рдбреЗрд▓рд┐рднрд░реА)

**MCP рд╕рдорд░реНрдерди**: MCP StreamableHTTP рдЯреНрд░рд╛рдиреНрд╕рдкреЛрд░реНрдЯрд▓реЗ рдЖрдЬ рд╕рддреНрд░ рдкреБрди: рд╕реБрд░реБ рд░ рд╕рдиреНрджреЗрд╢ рдкреБрди: рдбреЗрд▓рд┐рднрд░реАрд▓рд╛рдИ рд╕рддреНрд░ рдЖрдИрдбреАрд╣рд░реВ рд░ рдЕрдиреНрддрд┐рдо рдШрдЯрдирд╛ рдЖрдИрдбреАрд╣рд░реВрд╕рдБрдЧ рд╕рдорд░реНрдерди рдЧрд░реНрджрдЫред рдпрд╣рд╛рдБ рдорд╣рддреНрддреНрд╡рдкреВрд░реНрдг рдХреБрд░рд╛ рдпреЛ рд╣реЛ рдХрд┐ рд╕рд░реНрднрд░рд▓реЗ EventStore рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЧрд░реНрдиреБрдкрд░реНрдЫ, рдЬрд╕рд▓реЗ рдХреНрд▓рд╛рдЗрдиреНрдЯ рдкреБрди: рдЬрдбрд╛рдирдорд╛ рдШрдЯрдирд╛рд╣рд░реВ рдкреБрди: рдкреНрд▓реЗ рдЧрд░реНрди рд╕рдХреНрд╖рдо рдмрдирд╛рдЙрдБрдЫред  
рдзреНрдпрд╛рди рджрд┐рдиреБрд╣реЛрд╕реН рдХрд┐ рддреНрдпрд╣рд╛рдБ рдПрдХ рд╕рдореБрджрд╛рдп рдкреНрд░рд╕реНрддрд╛рд╡ (PR #975) рдЫ, рдЬрд╕рд▓реЗ рдЯреНрд░рд╛рдиреНрд╕рдкреЛрд░реНрдЯ-рдЕрдЬреНрдЮреЗрдп рдкреБрди: рд╕реБрд░реБ рдЧрд░реНрди рдорд┐рд▓реНрдиреЗ рд╕реНрдЯреНрд░рд┐рдорд╣рд░реВрдХреЛ рдЕрдиреНрд╡реЗрд╖рдг рдЧрд░реНрджрдЫред

| рд╕реБрд╡рд┐рдзрд╛      | рдкреНрд░рдпреЛрдЧ рдХреЗрд╕                                                                                                                                                   | MCP рд╕рдорд░реНрдерди                                                                |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| Resumability | рдХреНрд▓рд╛рдЗрдиреНрдЯ рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ рдХрд╛рд░реНрдпрдХреЛ рдХреНрд░рдордорд╛ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рд╣реБрдиреНрдЫред рдкреБрди: рдЬрдбрд╛рдирдорд╛, рд╕рддреНрд░ рдкреБрди: рд╕реБрд░реБ рд╣реБрдиреНрдЫ, рдЫреБрдЯреЗрдХрд╛ рдШрдЯрдирд╛рд╣рд░реВ рдкреБрди: рдкреНрд▓реЗ рдЧрд░рд┐рдиреНрдЫ, рд░ рдЬрд╣рд╛рдБрдмрд╛рдЯ рдЫреЛрдбрд┐рдПрдХреЛ рдерд┐рдпреЛ, рддреНрдпрд╣рд╛рдБрдмрд╛рдЯ рдирд┐рд░рдиреНрддрд░рддрд╛ рд╣реБрдиреНрдЫред | тЬЕ StreamableHTTP рдЯреНрд░рд╛рдиреНрд╕рдкреЛрд░реНрдЯ рд╕рддреНрд░ рдЖрдИрдбреА, рдШрдЯрдирд╛ рдкреБрди: рдкреНрд▓реЗ, рд░ EventStore рдХреЛ рд╕рд╛рде |

<div align="center" style="font-style: italic; font-size: 0.95em; margin-bottom: 0.5em;">
<strong>рдЪрд┐рддреНрд░ реи:</strong> рдпреЛ рдЖрд░реЗрдЦрд▓реЗ рджреЗрдЦрд╛рдЙрдБрдЫ рдХрд┐ рдХрд╕рд░реА MCP рдХреЛ StreamableHTTP рдЯреНрд░рд╛рдиреНрд╕рдкреЛрд░реНрдЯ рд░ EventStore рд▓реЗ рд╕рд╣рдЬ рд╕рддреНрд░ рдкреБрди: рд╕реБрд░реБ рдЧрд░реНрди рд╕рдХреНрд╖рдо рдмрдирд╛рдЙрдБрдЫ: рдпрджрд┐ рдХреНрд▓рд╛рдЗрдиреНрдЯ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рд╣реБрдиреНрдЫ рднрдиреЗ, рдпреЛ рдкреБрди: рдЬрдбрд╛рди рдЧрд░реНрди рд░ рдЫреБрдЯреЗрдХрд╛ рдШрдЯрдирд╛рд╣рд░реВ рдкреБрди: рдкреНрд▓реЗ рдЧрд░реНрди рд╕рдХреНрдЫ, рдкреНрд░рдЧрддрд┐ рдЧреБрдорд╛рдЙрдиреБ рдмрд┐рдирд╛ рдХрд╛рд░реНрдп рдирд┐рд░рдиреНрддрд░рддрд╛ рдЧрд░реНрджреИред
</div>

```mermaid
sequenceDiagram
    participant User
    participant Host as Host App<br/>(MCP Client)
    participant Server as MCP Server<br/>(Agent Tool)
    participant Store as Event Store

    User->>Host: Start task
    Host->>Server: Call tool [session: abc123]
    Server->>Store: Save events

    Note over Host,Server: ЁЯТе Connection lost

    Host->>Server: Reconnect [session: abc123]
    Store-->>Server: Replay events
    Server-->>Host: Catch up + continue
    Host-->>User: тЬЕ Complete
```

### рей. Durability

рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрд▓реЗ рд╕реНрдерд╛рдпреА рдЕрд╡рд╕реНрдерд╛рдХреЛ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдкрд░реНрдЫ:

- рдкрд░рд┐рдгрд╛рдорд╣рд░реВ рд╕рд░реНрднрд░ рдкреБрдирдГрд╕реБрд░реБ рднрдПрдкрдЫрд┐ рдкрдирд┐ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рд╣рдиреНрдЫрдиреН
- рд╕реНрдерд┐рддрд┐ рдмрд╛рд╣рд┐рд░рдмрд╛рдЯ рдкреБрди: рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫ
- рд╕рддреНрд░рд╣рд░реВрдорд╛ рдкреНрд░рдЧрддрд┐ рдЯреНрд░реНрдпрд╛рдХрд┐рдЩ

**MCP рд╕рдорд░реНрдерди**: MCP рд▓реЗ рдЕрдм рдЯреВрд▓ рдХрд▓рд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ Resource link return рдкреНрд░рдХрд╛рд░рд▓рд╛рдИ рд╕рдорд░реНрдерди рдЧрд░реНрджрдЫред рдЖрдЬ, рд╕рдореНрднрд╛рд╡рд┐рдд рдврд╛рдБрдЪрд╛ рднрдиреЗрдХреЛ рдПрдЙрдЯрд╛ рдЯреВрд▓ рдбрд┐рдЬрд╛рдЗрди рдЧрд░реНрдиреБ рд╣реЛ, рдЬрд╕рд▓реЗ рдПрдЙрдЯрд╛ рд╕реНрд░реЛрдд рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрдЫ рд░ рддреБрд░реБрдиреНрддреИ рд╕реНрд░реЛрдд рд▓рд┐рдЩреНрдХ рдлрд┐рд░реНрддрд╛ рдЧрд░реНрдЫред рдЯреВрд▓рд▓реЗ рдкреГрд╖реНрдарднреВрдорд┐рдорд╛ рдХрд╛рд░реНрдпрд▓рд╛рдИ рд╕рдореНрдмреЛрдзрди рдЧрд░реНрди рдЬрд╛рд░реА рд░рд╛рдЦреНрди рд╕рдХреНрдЫ рд░ рд╕реНрд░реЛрддрд▓рд╛рдИ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХ рдЧрд░реНрди рд╕рдХреНрдЫред рдмрджрд▓реЗрдорд╛, рдХреНрд▓рд╛рдЗрдиреНрдЯрд▓реЗ рдпреЛ рд╕реНрд░реЛрддрдХреЛ рд╕реНрдерд┐рддрд┐ рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрди рдЖрдВрд╢рд┐рдХ рд╡рд╛ рдкреВрд░реНрдг рдкрд░рд┐рдгрд╛рдорд╣рд░реВ рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрди (рд╕рд░реНрднрд░рд▓реЗ рдкреНрд░рджрд╛рди рдЧрд░реНрдиреЗ рд╕реНрд░реЛрдд рдЕрджреНрдпрд╛рд╡рдзрд┐рдХрд╣рд░реВрдорд╛ рдЖрдзрд╛рд░рд┐рдд) рд╡рд╛ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рд╕реНрд░реЛрддрд▓рд╛рдИ рд╕рджрд╕реНрдпрддрд╛ рд▓рд┐рди рдЫрдиреЛрдЯ рдЧрд░реНрди рд╕рдХреНрдЫред

рдпрд╣рд╛рдБ рдПрдЙрдЯрд╛ рд╕реАрдорд┐рддрддрд╛ рднрдиреЗрдХреЛ рд╕реНрд░реЛрддрд╣рд░реВрд▓рд╛рдИ рдкреЛрд▓ рдЧрд░реНрдиреБ рд╡рд╛ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рд╕рджрд╕реНрдпрддрд╛ рд▓рд┐рдиреБ рд╕реНрд░реЛрддрд╣рд░реВ рдЦрдкрдд рдЧрд░реНрди рд╕рдХреНрдЫ, рдЬрд╕рд▓реЗ рд╕реНрдХреЗрд▓рдорд╛ рдкреНрд░рднрд╛рд╡ рдкрд╛рд░реНрди рд╕рдХреНрдЫред рддреНрдпрд╣рд╛рдБ рдПрдЙрдЯрд╛ рдЦреБрд▓рд╛ рд╕рдореБрджрд╛рдп рдкреНрд░рд╕реНрддрд╛рд╡ (рдЬрд╕рдорд╛ #992 рд╕рдорд╛рд╡реЗрд╢ рдЫ) рдЫ, рдЬрд╕рд▓реЗ рд╡реЗрдмрд╣реБрдХрд╣рд░реВ рд╡рд╛ рдЯреНрд░рд┐рдЧрд░рд╣рд░реВ рд╕рдорд╛рд╡реЗрд╢ рдЧрд░реНрдиреЗ рд╕рдореНрднрд╛рд╡рдирд╛рдХреЛ рдЕрдиреНрд╡реЗрд╖рдг рдЧрд░реНрджрдЫ, рдЬрд╕рд▓реЗ рд╕рд░реНрднрд░рд▓реЗ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рдХреНрд▓рд╛рдЗрдиреНрдЯ/рд╣реЛрд╕реНрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╕рдирд▓рд╛рдИ рд╕реВрдЪрд┐рдд рдЧрд░реНрди рдХрд▓ рдЧрд░реНрди рд╕рдХреНрдЫред

| рд╕реБрд╡рд┐рдзрд╛    | рдкреНрд░рдпреЛрдЧ рдХреЗрд╕                                                                                                                                        | MCP рд╕рдорд░реНрдерди                                                        |
| ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------ |
| Durability | рд╕рд░реНрднрд░ рдбрд╛рдЯрд╛ рдорд╛рдЗрдЧреНрд░реЗрд╕рди рдХрд╛рд░реНрдпрдХреЛ рдХреНрд░рдордорд╛ рдХреНрд░реНрдпрд╛рд╕ рд╣реБрдиреНрдЫред рдкрд░рд┐рдгрд╛рдорд╣рд░реВ рд░ рдкреНрд░рдЧрддрд┐ рдкреБрдирдГрд╕реБрд░реБ рднрдПрдкрдЫрд┐ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рд╣рдиреНрдЫ, рдХреНрд▓рд╛рдЗрдиреНрдЯрд▓реЗ рд╕реНрдерд┐рддрд┐ рдЬрд╛рдБрдЪ рдЧрд░реНрди рд░ рд╕реНрдерд╛рдпреА рд╕реНрд░реЛрддрдмрд╛рдЯ рдирд┐рд░рдиреНрддрд░рддрд╛ рдЧрд░реНрди рд╕рдХреНрдЫред | тЬЕ Resource links рд╕реНрдерд╛рдпреА рднрдгреНрдбрд╛рд░рдг рд░ рд╕реНрдерд┐рддрд┐ рд╕реВрдЪрдирд╛рд╣рд░реВрдХреЛ рд╕рд╛рде |

рдЖрдЬ, рдПрдЙрдЯрд╛ рд╕рд╛рдорд╛рдиреНрдп рдврд╛рдБрдЪрд╛ рднрдиреЗрдХреЛ рдПрдЙрдЯрд╛ рдЯреВрд▓ рдбрд┐рдЬрд╛рдЗрди рдЧрд░реНрдиреБ рд╣реЛ, рдЬрд╕рд▓реЗ рдПрдЙрдЯрд╛ рд╕реНрд░реЛрдд рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░реНрдЫ рд░ рддреБрд░реБрдиреНрддреИ рд╕реНрд░реЛрдд рд▓рд┐рдЩреНрдХ рдлрд┐рд░реНрддрд╛ рдЧрд░реНрдЫред рдЯреВрд▓рд▓реЗ рдкреГрд╖реНрдарднреВрдорд┐рдорд╛ рдХрд╛рд░реНрдпрд▓рд╛рдИ рд╕рдореНрдмреЛрдзрди рдЧрд░реНрди рдЬрд╛рд░реА рд░рд╛рдЦреНрди рд╕рдХреНрдЫ, рд╕реНрд░реЛрдд рд╕реВрдЪрдирд╛рд╣рд░реВ рдЬрд╛рд░реА рдЧрд░реНрди рд╕рдХреНрдЫ, рдЬрд╕рд▓реЗ рдкреНрд░рдЧрддрд┐ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХрд╣рд░реВ рд╡рд╛ рдЖрдВрд╢рд┐рдХ рдкрд░рд┐рдгрд╛рдорд╣рд░реВрдХрд╛ рд░реВрдкрдорд╛ рдХрд╛рдо рдЧрд░реНрдЫ, рд░ рдЖрд╡рд╢реНрдпрдХрддрд╛рдиреБрд╕рд╛рд░ рд╕реНрд░реЛрддрдХреЛ рд╕рд╛рдордЧреНрд░реА рдЕрджреНрдпрд╛рд╡рдзрд┐рдХ рдЧрд░реНрди рд╕рдХреНрдЫред

<div align="center" style="font-style: italic; font-size: 0.95em; margin-bottom: 0.5em;">
<strong>рдЪрд┐рддреНрд░ рей:</strong> рдпреЛ рдЖрд░реЗрдЦрд▓реЗ рджреЗрдЦрд╛рдЙрдБрдЫ рдХрд┐ рдХрд╕рд░реА MCP рдПрдЬреЗрдиреНрдЯрд╣рд░реВрд▓реЗ рд╕реНрдерд╛рдпреА рд╕реНрд░реЛрддрд╣рд░реВ рд░ рд╕реНрдерд┐рддрд┐ рд╕реВрдЪрдирд╛рд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ рдХрд╛рд░реНрдпрд╣рд░реВ рд╕рд░реНрднрд░ рдкреБрдирдГрд╕реБрд░реБ рднрдП рдкрдирд┐ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рд╛рдЦреНрдЫрдиреН, рдХреНрд▓рд╛рдЗрдиреНрдЯрд▓рд╛рдИ рдкреНрд░рдЧрддрд┐ рдЬрд╛рдБрдЪ рдЧрд░реНрди рд░ рдЕрд╕рдлрд▓рддрд╛рдкрдЫрд┐ рдкрдирд┐ рдкрд░рд┐рдгрд╛рдорд╣рд░реВ рдкреБрди: рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрди рдЕрдиреБрдорддрд┐ рджрд┐рдиреНрдЫред
</div>

```mermaid
sequenceDiagram
    participant User
    participant Host as Host App<br/>(MCP Client)
    participant Server as MCP Server<br/>(Agent Tool)
    participant DB as Persistent Storage

    User->>Host: Start task
    Host->>Server: Call tool
    Server->>DB: Create resource + updates
    Server-->>Host: ЁЯФЧ Resource link

    Note over Server: ЁЯТе Server restart

    User->>Host: Check status
    Host->>Server: Get resource
    Server->>DB: Load state
    Server-->>Host: Current progress
    Server->>DB: Complete + notify
    Host-->>User: тЬЕ Complete
```

### рек. Multi-Turn Interactions

рдПрдЬреЗрдиреНрдЯрд╣рд░реВрд▓реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирдХреЛ рдмреАрдЪрдорд╛ рдердк рдЗрдирдкреБрдЯ рдЖрд╡рд╢реНрдпрдХ рдкрд░реНрди рд╕рдХреНрдЫ:

- рдорд╛рдирд╡ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рд╡рд╛ рд╕реНрд╡реАрдХреГрддрд┐
- рдЬрдЯрд┐рд▓ рдирд┐рд░реНрдгрдпрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ AI рд╕рд╣рд╛рдпрддрд╛
- рдЧрддрд┐рд╢реАрд▓ рдкреНрдпрд╛рд░рд╛рдорд┐рдЯрд░ рд╕рдорд╛рдпреЛрдЬрди

**MCP рд╕рдорд░реНрдерди**: Sampling (AI рдЗрдирдкреБрдЯрдХреЛ рд▓рд╛рдЧрд┐) рд░ elicitation (рдорд╛рдирд╡ рдЗрдирдкреБрдЯрдХреЛ рд▓рд╛рдЧрд┐) рдорд╛рд░реНрдлрдд рдкреВрд░реНрдг рд░реВрдкрдорд╛ рд╕рдорд░реНрдерд┐рддред

| рд╕реБрд╡рд┐рдзрд╛                 | рдкреНрд░рдпреЛрдЧ рдХреЗрд╕                                                                                                                                     | MCP рд╕рдорд░реНрдерди                                           |
| ----------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------- |
| Multi-Turn Interactions | рдпрд╛рддреНрд░рд╛ рдмреБрдХрд┐рдЩ рдПрдЬреЗрдиреНрдЯрд▓реЗ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рдмрд╛рдЯ рдореВрд▓реНрдп рдкреБрд╖реНрдЯрд┐ рдЕрдиреБрд░реЛрдз рдЧрд░реНрдЫ, рддреНрдпрд╕рдкрдЫрд┐ рдмреБрдХрд┐рдЩ рд▓реЗрдирджреЗрди рдкреВрд░рд╛ рдЧрд░реНрдиреБ рдЕрдШрд┐ рдпрд╛рддреНрд░рд╛ рдбрд╛рдЯрд╛рд▓рд╛рдИ рд╕рдВрдХреНрд╖реЗрдк рдЧрд░реНрди AI рд▓рд╛рдИ рд╕реЛрдзреНрдЫред | тЬЕ рдорд╛рдирд╡ рдЗрдирдкреБрдЯрдХреЛ рд▓рд╛рдЧрд┐ Elicitation, AI рдЗрдирдкреБрдЯрдХреЛ рд▓рд╛рдЧрд┐ Sampling |

<div align="center" style="font-style: italic; font-size: 0.95em; margin-bottom: 0.5em;">
<strong>рдЪрд┐рддреНрд░ рек:</strong> рдпреЛ рдЖрд░реЗрдЦрд▓реЗ рджреЗрдЦрд╛рдЙрдБрдЫ рдХрд┐ рдХрд╕рд░реА MCP рдПрдЬреЗрдиреНрдЯрд╣рд░реВрд▓реЗ рдЕрдиреНрддрд░рдХреНрд░рд┐рдпрд╛рддреНрдордХ рд░реВрдкрдорд╛ рдорд╛рдирд╡ рдЗрдирдкреБрдЯ рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрди рд╡рд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирдХреЛ рдмреАрдЪрдорд╛ AI рд╕рд╣рд╛рдпрддрд╛ рдЕрдиреБрд░реЛрдз рдЧрд░реНрди рд╕рдХреНрдЫрдиреН, рдЬрдЯрд┐рд▓, рдмрд╣реБ-рдЪрд░рдгреАрдп рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣рд╣рд░реВ рдЬрд╕реНрддреИ рдкреБрд╖реНрдЯрд┐ рд░ рдЧрддрд┐рд╢реАрд▓ рдирд┐рд░реНрдгрдп-рдирд┐рд░реНрдорд╛рдгрд▓рд╛рдИ рд╕рдорд░реНрдерди рдЧрд░реНрджреИред
</div>

```mermaid
sequenceDiagram
    participant User
    participant Host as Host App<br/>(MCP Client)
    participant Server as MCP Server<br/>(Agent Tool)

    User->>Host: Book flight
    Host->>Server: Call travel_agent

    Server->>Host: Elicitation: "Confirm $500?"
    Note over Host: Elicitation callback (if available)
    Host->>User: ЁЯТ░ Confirm price?
    User->>Host: "Yes"
    Host->>Server: Confirmed

    Server->>Host: Sampling: "Summarize data"
    Note over Host: AI callback (if available)
    Host->>Server: Report summary

    Server->>Host: тЬЕ Flight booked
```

## MCP рдорд╛ рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрдХреЛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди - рдХреЛрдб рдЕрд╡рд▓реЛрдХрди

рдпрд╕ рд▓реЗрдЦрдХреЛ рднрд╛рдЧрдХреЛ рд░реВрдкрдорд╛, рд╣рд╛рдореАрд▓реЗ [рдХреЛрдб рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА](https://github.com/victordibia/ai-tutorials/tree/main/MCP%20Agents) рдкреНрд░рджрд╛рди рдЧрд░реЗрдХрд╛ рдЫреМрдВ, рдЬрд╕рдорд╛ MCP Python SDK рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ StreamableHTTP рдЯреНрд░рд╛рдиреНрд╕рдкреЛрд░реНрдЯрдХреЛ рд╕рд╛рде рд╕рддреНрд░ рдкреБрди: рд╕реБрд░реБ рд░ рд╕рдиреНрджреЗрд╢ рдкреБрди: рдбреЗрд▓рд┐рднрд░реАрдХреЛ рд╕рд╛рде рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрдХреЛ рдкреВрд░реНрдг рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╕рдорд╛рд╡реЗрд╢ рдЫред рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирд▓реЗ рдХрд╕рд░реА MCP рдХреНрд╖рдорддрд╛рд╣рд░реВрд▓рд╛рдИ рд╕рдВрдпреЛрдЬрди рдЧрд░реЗрд░ рдкрд░рд┐рд╖реНрдХреГрдд рдПрдЬреЗрдиреНрдЯ-рдЬрд╕реНрддреИ рд╡реНрдпрд╡рд╣рд╛рд░рд╣рд░реВ рд╕рдХреНрд╖рдо рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫ рднрдиреНрдиреЗ рджреЗрдЦрд╛рдЙрдБрдЫред

рд╡рд┐рд╢реЗрд╖ рд░реВрдкрдорд╛, рд╣рд╛рдореАрд▓реЗ рджреБрдИ рдкреНрд░рд╛рдердорд┐рдХ рдПрдЬреЗрдиреНрдЯ рдЯреВрд▓рд╣рд░реВ рднрдПрдХреЛ рд╕рд░реНрднрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЧрд░реЗрдХрд╛ рдЫреМрдВ:

- **Travel Agent** - рдореВрд▓реНрдп рдкреБрд╖реНрдЯрд┐ рдорд╛рд░реНрдлрдд рдпрд╛рддреНрд░рд╛ рдмреБрдХрд┐рдЩ рд╕реЗрд╡рд╛ рдЕрдиреБрдХрд░рдг рдЧрд░реНрджрдЫ
- **Research Agent** - AI-рд╕рд╣рд╛рдпрддрд╛ рдкреНрд░рд╛рдкреНрдд рд╕рдВрдХреНрд╖реЗрдк рдорд╛рд░реНрдлрдд рдЕрдиреБрд╕рдиреНрдзрд╛рди рдХрд╛рд░реНрдпрд╣рд░реВ рдкреНрд░рджрд░реНрд╢рди рдЧрд░реНрджрдЫ

рджреБрд╡реИ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрд▓реЗ рд╡рд╛рд╕реНрддрд╡рд┐рдХ-рд╕рдордп рдкреНрд░рдЧрддрд┐ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХрд╣рд░реВ, рдЕрдиреНрддрд░рдХреНрд░рд┐рдпрд╛рддреНрдордХ рдкреБрд╖реНрдЯрд┐, рд░ рдкреВрд░реНрдг рд╕рддреНрд░ рдкреБрди: рд╕реБрд░реБ рдХреНрд╖рдорддрд╛рд╣рд░реВ рдкреНрд░рджрд░реНрд╢рди рдЧрд░реНрдЫрдиреНред

### рдкреНрд░рдореБрдЦ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЕрд╡рдзрд╛рд░рдгрд╛рд╣рд░реВ

рддрд▓рдХрд╛ рдЦрдгреНрдбрд╣рд░реВрд▓реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреНрд╖рдорддрд╛рдХреЛ рд▓рд╛рдЧрд┐ рд╕рд░реНрднрд░-рдкрдХреНрд╖реАрдп рдПрдЬреЗрдиреНрдЯ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд░ рдХреНрд▓рд╛рдЗрдиреНрдЯ-рдкрдХреНрд╖реАрдп рд╣реЛрд╕реНрдЯ рд╣реНрдпрд╛рдиреНрдбрд▓рд┐рдЩ рджреЗрдЦрд╛рдЙрдБрдЫрдиреН:

#### Streaming & Progress Updates - рд╡рд╛рд╕реНрддрд╡рд┐рдХ-рд╕рдордп рдХрд╛рд░реНрдп рд╕реНрдерд┐рддрд┐

Streaming рд▓реЗ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрд▓рд╛рдИ рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ рдХрд╛рд░реНрдпрд╣рд░реВрдХреЛ рдХреНрд░рдордорд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ-рд╕рдордп рдкреНрд░рдЧрддрд┐ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХрд╣рд░реВ рдкреНрд░рджрд╛рди рдЧрд░реНрди рд╕рдХреНрд╖рдо рдмрдирд╛рдЙрдБрдЫ, рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рд╣рд░реВрд▓рд╛рдИ рдХрд╛рд░реНрдп рд╕реНрдерд┐рддрд┐ рд░ рдордзреНрдпрд╡рд░реНрддреА рдкрд░рд┐рдгрд╛рдорд╣рд░реВрдХреЛ рдЬрд╛рдирдХрд╛рд░реА рд░рд╛рдЦреНрджреИред

**рд╕рд░реНрднрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди (рдПрдЬреЗрдиреНрдЯрд▓реЗ рдкреНрд░рдЧрддрд┐ рд╕реВрдЪрдирд╛рд╣рд░реВ рдкрдард╛рдЙрдБрдЫ):**

```python
# From server/server.py - Travel agent sending progress updates
for i, step in enumerate(steps):
    await ctx.session.send_progress_notification(
        progress_token=ctx.request_id,
        progress=i * 25,
        total=100,
        message=step,
        related_request_id=str(ctx.request_id)
    )
    await anyio.sleep(2)  # Simulate work

# Alternative: Log messages for detailed step-by-step updates
await ctx.session.send_log_message(
    level="info",
    data=f"Processing step {current_step}/{steps} ({progress_percent}%)",
    logger="long_running_agent",
    related_request_id=ctx.request_id,
)
```

**рдХреНрд▓рд╛рдЗрдиреНрдЯ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди (рд╣реЛрд╕реНрдЯрд▓реЗ рдкреНрд░рдЧрддрд┐ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХрд╣рд░реВ рдкреНрд░рд╛рдкреНрдд рдЧрд░реНрдЫ):**

```python
# From client/client.py - Client handling real-time notifications
async def message_handler(message) -> None:
    if isinstance(message, types.ServerNotification):
        if isinstance(message.root, types.LoggingMessageNotification):
            console.print(f"ЁЯУб [dim]{message.root.params.data}[/dim]")
        elif isinstance(message.root, types.ProgressNotification):
            progress = message.root.params
            console.print(f"ЁЯФД [yellow]{progress.message} ({progress.progress}/{progress.total})[/yellow]")

# Register message handler when creating session
async with ClientSession(
    read_stream, write_stream,
    message_handler=message_handler
) as session:
```

#### Elicitation - рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рдХреЛ рдЗрдирдкреБрдЯ рдЕрдиреБрд░реЛрдз рдЧрд░реНрджреИ

Elicitation рд▓реЗ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрд▓рд╛рдИ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирдХреЛ рдмреАрдЪрдорд╛ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛рдХреЛ рдЗрдирдкреБрдЯ рдЕрдиреБрд░реЛрдз рдЧрд░реНрди рд╕рдХреНрд╖рдо рдмрдирд╛рдЙрдБрдЫред рдпреЛ рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ рдХрд╛рд░реНрдпрд╣рд░реВрдХреЛ рдХреНрд░рдордорд╛ рдкреБрд╖реНрдЯрд┐, рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг, рд╡рд╛ рд╕реНрд╡реАрдХреГрддрд┐рдХрд╛ рд▓рд╛рдЧрд┐ рдЖрд╡рд╢реНрдпрдХ рдЫред

**рд╕рд░реНрднрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди (рдПрдЬреЗрдиреНрдЯрд▓реЗ рдкреБрд╖реНрдЯрд┐ рдЕрдиреБрд░реЛрдз рдЧрд░реНрдЫ):**

```python
# From server/server.py - Travel agent requesting price confirmation
elicit_result = await ctx.session.elicit(
    message=f"Please confirm the estimated price of $1200 for your trip to {destination}",
    requestedSchema=PriceConfirmationSchema.model_json_schema(),
    related_request_id=ctx.request_id,
)

if elicit_result and elicit_result.action == "accept":
    # Continue with booking
    logger.info(f"User confirmed price: {elicit_result.content}")
elif elicit_result and elicit_result.action == "decline":
    # Cancel the booking
    booking_cancelled = True
```

**рдХреНрд▓рд╛рдЗрдиреНрдЯ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди (рд╣реЛрд╕реНрдЯрд▓реЗ elicitation callback рдкреНрд░рджрд╛рди рдЧрд░реНрдЫ):**

```python
# From client/client.py - Client handling elicitation requests
async def elicitation_callback(context, params):
    console.print(f"ЁЯТм Server is asking for confirmation:")
    console.print(f"   {params.message}")

    response = console.input("Do you accept? (y/n): ").strip().lower()

    if response in ['y', 'yes']:
        return types.ElicitResult(
            action="accept",
            content={"confirm": True, "notes": "Confirmed by user"}
        )
    else:
        return types.ElicitResult(
            action="decline",
            content={"confirm": False, "notes": "Declined by user"}
        )

# Register the callback when creating the session
async with ClientSession(
    read_stream, write_stream,
    elicitation_callback=elicitation_callback
) as session:
```

#### Sampling - AI рд╕рд╣рд╛рдпрддрд╛ рдЕрдиреБрд░реЛрдз рдЧрд░реНрджреИ

Sampling рд▓реЗ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрд▓рд╛рдИ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирдХреЛ рдХреНрд░рдордорд╛ рдЬрдЯрд┐рд▓ рдирд┐рд░реНрдгрдпрд╣рд░реВ рд╡рд╛ рд╕рд╛рдордЧреНрд░реА рдЙрддреНрдкрд╛рджрдирдХрд╛ рд▓рд╛рдЧрд┐ LLM рд╕рд╣рд╛рдпрддрд╛ рдЕрдиреБрд░реЛрдз рдЧрд░реНрди рд╕рдХреНрд╖рдо рдмрдирд╛рдЙрдБрдЫред рдпрд╕рд▓реЗ рдорд╛рдирд╡-AI рд╣рд╛рдЗрдмреНрд░рд┐рдб рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣рд╣рд░реВрд▓рд╛рдИ рд╕рдХреНрд╖рдо рдмрдирд╛рдЙрдБрдЫред

**рд╕рд░реНрднрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди (рдПрдЬреЗрдиреНрдЯрд▓реЗ AI рд╕рд╣рд╛рдпрддрд╛ рдЕрдиреБрд░реЛрдз рдЧрд░реНрдЫ):**

```python
# From server/server.py - Research agent requesting AI summary
sampling_result = await ctx.session.create_message(
    messages=[
        SamplingMessage(
            role="user",
            content=TextContent(type="text", text=f"Please summarize the key findings for research on: {topic}")
        )
    ],
    max_tokens=100,
    related_request_id=ctx.request_id,
)

if sampling_result and sampling_result.content:
    if sampling_result.content.type == "text":
        sampling_summary = sampling_result.content.text
        logger.info(f"Received sampling summary: {sampling_summary}")
```

**рдХреНрд▓рд╛рдЗрдиреНрдЯ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди (рд╣реЛрд╕реНрдЯрд▓реЗ sampling callback рдкреНрд░рджрд╛рди рдЧрд░реНрдЫ):**

```python
# From client/client.py - Client handling sampling requests
async def sampling_callback(context, params):
    message_text = params.messages[0].content.text if params.messages else 'No message'
    console.print(f"ЁЯза Server requested sampling: {message_text}")

    # In a real application, this could call an LLM API
    # For demo purposes, we provide a mock response
    mock_response = "Based on current research, MCP has evolved significantly..."

    return types.CreateMessageResult(
        role="assistant",
        content=types.TextContent(type="text", text=mock_response),
        model="interactive-client",
        stopReason="endTurn"
    )

# Register the callback when creating the session
async with ClientSession(
    read_stream, write_stream,
    sampling_callback=sampling_callback,
    elicitation_callback=elicitation_callback
) as session:
```

#### Resumability - рдбрд┐рд╕реНрдХрдиреЗрдХреНрд╢рдирдкрдЫрд┐рдХреЛ рд╕рддреНрд░ рдирд┐рд░рдиреНрддрд░рддрд╛

Resumability рд▓реЗ рд▓рд╛рдореЛ рд╕рдордпрд╕рдореНрдо рдЪрд▓реНрдиреЗ рдПрдЬреЗрдиреНрдЯ рдХрд╛рд░реНрдпрд╣рд░реВрд▓реЗ рдХреНрд▓рд╛рдЗрдиреНрдЯ рдбрд┐рд╕реНрдХрдиреЗрдХреНрд╢рдирд╣рд░реВрд▓рд╛рдИ рд╕рд╣рди рд░ рдкреБрди: рдЬрдбрд╛рдирдорд╛ рд╕рд╣рдЬ рд░реВрдкрдорд╛ рдирд┐рд░рдиреНрддрд░рддрд╛ рджрд┐рди рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдЧрд░реНрджрдЫред рдпреЛ EventStore рд░ рдкреБрди: рд╕реБрд░реБ рдЯреЛрдХрдирд╣рд░реВрдХреЛ рдорд╛рдзреНрдпрдордмрд╛рдЯ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЧрд░рд┐рдПрдХреЛ рдЫред

**Event Store рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди (рд╕рд░реНрднрд░рд▓реЗ рд╕рддреНрд░ рд╕реНрдерд┐рддрд┐ рд░рд╛рдЦреНрдЫ):**

```python
# From server/event_store.py - Simple in-memory event store
class SimpleEventStore(EventStore):
    def __init__(self):
        self._events: list[tuple[StreamId, EventId, JSONRPCMessage]] = []
        self._event_id_counter = 0

    async def store_event(self, stream_id: StreamId, message: JSONRPCMessage) -> EventId:
        """Store an event and return its ID."""
        self._event_id_counter += 1
        event_id = str(self._event_id_counter)
        self._events.append((stream_id, event_id, message))
        return event_id

    async def replay_events_after(self, last_event_id: EventId, send_callback: EventCallback) -> StreamId | None:
        """Replay events after the specified ID for resumption."""
        # Find events after the last known event and replay them
        for _, event_id, message in self._events[start_index:]:
            await send_callback(EventMessage(message, event_id))

# From server/server.py - Passing event store to session manager
def create_server_app(event_store: Optional[EventStore] = None) -> Starlette:
    server = ResumableServer()

    # Create session manager with event store for resumption
    session_manager = StreamableHTTPSessionManager(
        app=server,
        event_store=event_store,  # Event store enables session resumption
        json_response=False,
        security_settings=security_settings,
    )

    return Starlette(routes=[Mount("/mcp", app=session_manager.handle_request)])

# Usage: Initialize with event store
event_store = SimpleEventStore()
app = create_server_app(event_store)
```

**рдХреНрд▓рд╛рдЗрдиреНрдЯ рдореЗрдЯрд╛рдбрд╛рдЯрд╛ рдкреБрди: рд╕реБрд░реБ рдЯреЛрдХрдирдХреЛ рд╕рд╛рде (рдХреНрд▓рд╛рдЗрдиреНрдЯрд▓реЗ рднрдгреНрдбрд╛рд░рд┐рдд рд╕реНрдерд┐рддрд┐рдХреЛ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдкреБрди: рдЬрдбрд╛рди рдЧрд░реНрдЫ):**

```python
# From client/client.py - Client resumption with metadata
if existing_tokens and existing_tokens.get("resumption_token"):
    # Use existing resumption token to continue where we left off
    metadata = ClientMessageMetadata(
        resumption_token=existing_tokens["resumption_token"],
    )
else:
    # Create callback to save resumption token when received
    def enhanced_callback(token: str):
        protocol_version = getattr(session, 'protocol_version', None)
        token_manager.save_tokens(session_id, token, protocol_version, command, args)

    metadata = ClientMessageMetadata(
        on_resumption_token_update=enhanced_callback,
    )

# Send request with resumption metadata
result = await session.send_request(
    types.ClientRequest(
        types.CallToolRequest(
            method="tools/call",
            params=types.CallToolRequestParams(name=command, arguments=args)
        )
    ),
    types.CallToolResult,
    metadata=metadata,
)
```

рд╣реЛрд╕реНрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╕рдирд▓реЗ рд╕рддреНрд░ рдЖрдИрдбреАрд╣рд░реВ рд░ рдкреБрди: рд╕реБрд░реБ рдЯреЛрдХрдирд╣рд░реВ рд╕реНрдерд╛рдиреАрдп рд░реВрдкрдорд╛ рд░рд╛рдЦреНрдЫ, рдЬрд╕рд▓реЗ рдпрд╕рд▓рд╛рдИ рдкреНрд░рдЧрддрд┐ рд╡рд╛ рд╕реНрдерд┐рддрд┐ рдЧреБрдорд╛рдЙрдиреБ рдмрд┐рдирд╛ рд╡рд┐рджреНрдпрдорд╛рди рд╕рддреНрд░рд╣рд░реВрдорд╛ рдкреБрди: рдЬрдбрд╛рди рдЧрд░реНрди рд╕рдХреНрд╖рдо рдмрдирд╛рдЙрдБрдЫред

### рдХреЛрдб рд╕рдВрдЧрдарди

<div align="center" style="font-style: italic; font-size: 0.95em; margin-bottom: 0.5em;">
<strong>рдЪрд┐рддреНрд░ рел:</strong> MCP-рдЖрдзрд╛рд░рд┐рдд рдПрдЬреЗрдиреНрдЯ рдкреНрд░рдгрд╛рд▓реА рд╡рд╛рд╕реНрддреБрдХрд▓рд╛
</div>

```mermaid
graph LR
    User([User]) -->|"Task"| Host["Host<br/>(MCP Client)"]
    Host -->|list tools| Server[MCP Server]
    Server -->|Exposes| AgentsTools[Agents as Tools]
    AgentsTools -->|Task| AgentA[Travel Agent]
    AgentsTools -->|Task| AgentB[Research Agent]

    Host -->|Monitors| StateUpdates[Progress & State Updates]
    Server -->|Publishes| StateUpdates

    class User user;
    class AgentA,AgentB agent;
    class Host,Server,StateUpdates core;
```

**рдореБрдЦреНрдп рдлрд╛рдЗрд▓рд╣рд░реВ:**

- **`server/server.py`** - рдпрд╛рддреНрд░рд╛ рд░ рдЕрдиреБрд╕рдиреНрдзрд╛рди рдПрдЬреЗрдиреНрдЯрд╣рд░реВрд╕рдБрдЧ рдкреБрди: рд╕реБрд░реБ рдЧрд░реНрди рдорд┐рд▓реНрдиреЗ MCP рд╕рд░реНрднрд░, рдЬрд╕рд▓реЗ elicitation, sampling, рд░ рдкреНрд░рдЧрддрд┐ рдЕрджреНрдпрд╛рд╡рдзрд┐рдХрд╣рд░реВ рдкреНрд░рджрд░реНрд╢рди рдЧрд░реНрджрдЫ
- **`client/client.py`** - рдЕрдиреНрддрд░рдХреНрд░рд┐рдпрд╛рддреНрдордХ рд╣реЛрд╕реНрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╕рди, рдкреБрди: рд╕реБрд░реБ рд╕рдорд░реНрдерди, callback рд╣реНрдпрд╛рдиреНрдбрд▓рд░рд╣рд░реВ, рд░ рдЯреЛрдХрди рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдирдХреЛ рд╕рд╛рде
- **`server/event_store.py`** - рд╕рддреНрд░ рдкреБрди: рд╕реБрд░реБ рд░ рд╕рдиреНрджреЗрд╢ рдкреБрди: рдбреЗрд▓рд┐рднрд░реА рд╕рдХреНрд╖рдо рдЧрд░реНрдиреЗ Event Store рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди

## MCP рдорд╛ рдмрд╣реБ-рдПрдЬреЗрдиреНрдЯ рд╕рдВрдЪрд╛рд░рдорд╛ рд╡рд┐рд╕реНрддрд╛рд░

рдорд╛рдерд┐рдХреЛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирд▓рд╛рдИ рд╣реЛрд╕реНрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╕рдирдХреЛ рдмреБрджреНрдзрд┐рдорддреНрддрд╛ рд░ рджрд╛рдпрд░рд╛рд▓рд╛рдИ рдмрдврд╛рдПрд░ рдмрд╣реБ-рдПрдЬреЗрдиреНрдЯ рдкреНрд░рдгрд╛рд▓реАрд╣рд░реВрдорд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫ:

- **рдмреБрджреНрдзрд┐рдорд╛рди рдХрд╛рд░реНрдп рд╡рд┐рдШрдЯрди**: рд╣реЛрд╕реНрдЯрд▓реЗ рдЬрдЯрд┐рд▓ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдиреБрд░реЛрдзрд╣рд░реВрдХреЛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдЧрд░реНрдЫ рд░ рддрд┐рдиреАрд╣рд░реВрд▓рд╛рдИ рд╡рд┐рднрд┐рдиреНрди рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрдХреЛ рд▓рд╛рдЧрд┐ рдЙрдкрдХрд╛рд░реНрдпрд╣рд░реВрдорд╛ рд╡рд┐рднрд╛рдЬрди рдЧрд░реНрдЫ
- **рдмрд╣реБ-рд╕рд░реНрднрд░ рд╕рдордиреНрд╡рдп**: рд╣реЛрд╕реНрдЯрд▓реЗ рд╡рд┐рднрд┐рдиреНрди рдПрдЬреЗрдиреНрдЯ рдХреНрд╖рдорддрд╛рд╣рд░реВ рдкреНрд░рджрд░реНрд╢рди рдЧрд░реНрдиреЗ рдкреНрд░рддреНрдпреЗрдХ MCP рд╕рд░реНрднрд░рд╕рдБрдЧ рдЬрдбрд╛рдирд╣рд░реВ рдХрд╛рдпрдо рд░рд╛рдЦреНрдЫ
- **рдХрд╛рд░реНрдп рд╕реНрдерд┐рддрд┐ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди**: рд╣реЛрд╕реНрдЯрд▓реЗ рдзреЗрд░реИ рд╕рдорд╡рд░реНрддреА рдПрдЬреЗрдиреНрдЯ рдХрд╛рд░реНрдпрд╣рд░реВрдХреЛ рдкреНрд░рдЧрддрд┐ рдЯреНрд░реНрдпрд╛рдХ рдЧрд░реНрдЫ, рдирд┐рд░реНрднрд░рддрд╛рд╣рд░реВ рд░ рдЕрдиреБрдХреНрд░рдордгрд▓рд╛рдИ рд╕рдореНрд╣рд╛рд▓реНрдЫ
- **рд▓рдЪрд┐рд▓реЛрдкрди рд░ рдкреБрди: рдкреНрд░рдпрд╛рд╕рд╣рд░реВ**: рд╣реЛрд╕реНрдЯрд▓реЗ рдЕрд╕рдлрд▓рддрд╛рд╣рд░реВ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдЧрд░реНрдЫ, рдкреБрди: рдкреНрд░рдпрд╛рд╕ рддрд░реНрдХ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЧрд░реНрдЫ, рд░ рдПрдЬреЗрдиреНрдЯрд╣рд░реВ рдЕрдиреБрдкрд▓рдмреНрдз рд╣реБрдБрджрд╛ рдХрд╛рд░реНрдпрд╣рд░реВ рдкреБрди: рдорд╛рд░реНрдЧрдирд┐рд░реНрджреЗрд╢рди рдЧрд░реНрдЫ
- **рдкрд░рд┐рдгрд╛рдо рд╕рдВрд╢реНрд▓реЗрд╖рдг**: рд╣реЛрд╕реНрдЯрд▓реЗ рдзреЗрд░реИ рдПрдЬреЗрдиреНрдЯрд╣рд░реВрдмрд╛рдЯ рдкреНрд░рд╛рдкреНрдд рдЖрдЙрдЯрдкреБрдЯрд╣рд░реВрд▓рд╛рдИ рдПрдХреАрдХреГрдд рдЕрдиреНрддрд┐рдо рдкрд░рд┐рдгрд╛рдорд╣рд░реВрдорд╛ рд╕рдВрдпреЛрдЬрди рдЧрд░реНрдЫ

рд╣реЛрд╕реНрдЯ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдХреНрд▓рд╛рдЗрдиреНрдЯрдмрд╛рдЯ рдПрдХ рдмреБрджреНрдзрд┐рдорд╛рди рд╕рдордиреНрд╡рдпрдХрд░реНрддрд╛рдорд╛ рд╡рд┐рдХрд╕рд┐рдд рд╣реБрдиреНрдЫ, рд╡рд┐рддрд░рд┐рдд рдПрдЬреЗрдиреНрдЯ рдХреНрд╖рдорддрд╛рд╣рд░реВрд▓рд╛рдИ рд╕рдордиреНрд╡рдп рдЧрд░реНрджреИ, рдЬрдмрдХрд┐ рдЙрд╣реА MCP рдкреНрд░реЛрдЯреЛрдХрд▓ рдЖрдзрд╛рд░ рдХрд╛рдпрдо рд░рд╛рдЦреНрджреИред

## рдирд┐рд╖реНрдХрд░реНрд╖

MCP рдХрд╛ рдЙрдиреНрдирдд рдХреНрд╖рдорддрд╛рд╣рд░реВ - resource notifications, elicitation/sampling, resumable streams, рд░ persistent resources - рд▓реЗ рдЬрдЯрд┐рд▓ рдПрдЬреЗрдиреНрдЯ-рджреЗрдЦрд┐-рдПрдЬреЗрдиреНрдЯ рдЕрдиреНрддрд░рдХреНрд░рд┐рдпрд╛рд╣рд░реВрд▓рд╛рдИ рд╕рдХреНрд╖рдо рдмрдирд╛рдЙрдБрдЫ, рдЬрдмрдХрд┐ рдкреНрд░реЛрдЯреЛрдХрд▓рдХреЛ рд╕рд░рд▓рддрд╛ рдХрд╛рдпрдо рд░рд╛рдЦреНрдЫред

## рд╕реБрд░реБ рдЧрд░реНрджреИ

рдЖрдлреНрдиреИ agent2agent

---

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпреЛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдЕрдиреБрд╡рд╛рдж рдЧрд░рд┐рдПрдХреЛ рдЫред рд╣рд╛рдореА рд╢реБрджреНрдзрддрд╛рдХреЛ рд▓рд╛рдЧрд┐ рдкреНрд░рдпрд╛рд╕ рдЧрд░реНрдЫреМрдВ, рддрд░ рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджрд┐рдиреБрд╣реЛрд╕реН рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рджрдорд╛ рддреНрд░реБрдЯрд┐рд╣рд░реВ рд╡рд╛ рдЕрд╢реБрджреНрдзрддрд╛рд╣рд░реВ рд╣реБрди рд╕рдХреНрдЫред рдпрд╕рдХреЛ рдореВрд▓ рднрд╛рд╖рд╛ рдорд╛ рд░рд╣реЗрдХреЛ рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝рд▓рд╛рдИ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд┐рдиреБрдкрд░реНрдЫред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реАрдХреЛ рд▓рд╛рдЧрд┐, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рд╕рд┐рдлрд╛рд░рд┐рд╕ рдЧрд░рд┐рдиреНрдЫред рдпрд╕ рдЕрдиреБрд╡рд╛рджрдХреЛ рдкреНрд░рдпреЛрдЧрдмрд╛рдЯ рдЙрддреНрдкрдиреНрди рд╣реБрдиреЗ рдХреБрдиреИ рдкрдирд┐ рдЧрд▓рддрдлрд╣рдореА рд╡рд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛рдХреЛ рд▓рд╛рдЧрд┐ рд╣рд╛рдореА рдЬрд┐рдореНрдореЗрд╡рд╛рд░ рд╣реБрдиреЗ рдЫреИрдиреМрдВред