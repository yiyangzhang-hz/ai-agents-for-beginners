<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "5cc6836626047aa055e8960c8484a7d0",
  "translation_date": "2025-08-29T13:25:16+00:00",
  "source_file": "11-agentic-protocols/code_samples/mcp-agents/README.md",
  "language_code": "bn"
}
-->
# MCP ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржЬрзЗржирзНржЯ-ржЯрзБ-ржПржЬрзЗржирзНржЯ ржпрзЛржЧрж╛ржпрзЛржЧ ржмрзНржпржмрж╕рзНржерж╛ рждрзИрж░рж┐ ржХрж░рж╛

> TL;DR - MCP-рждрзЗ Agent2Agent ржпрзЛржЧрж╛ржпрзЛржЧ рждрзИрж░рж┐ ржХрж░рж╛ рж╕ржорзНржнржм? рж╣рзНржпрж╛ржБ!

MCP рждрж╛рж░ ржорзВрж▓ рж▓ржХрзНрж╖рзНржп "LLMs-ржХрзЗ ржкрзНрж░рж╕ржЩрзНржЧ ржкрзНрж░ржжрж╛ржи ржХрж░рж╛" ржерзЗржХрзЗ ржЕржирзЗржХ ржжрзВрж░ ржПржЧрж┐ржпрж╝рзЗржЫрзЗред рж╕рж╛ржорзНржкрзНрж░рждрж┐ржХ ржЙржирзНржиржпрж╝ржи ржпрзЗржоржи [resumable streams](https://modelcontextprotocol.io/docs/concepts/transports#resumability-and-redelivery), [elicitation](https://modelcontextprotocol.io/specification/2025-06-18/client/elicitation), [sampling](https://modelcontextprotocol.io/specification/2025-06-18/client/sampling), ржПржмржВ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ([progress](https://modelcontextprotocol.io/specification/2025-06-18/basic/utilities/progress) ржПржмржВ [resources](https://modelcontextprotocol.io/specification/2025-06-18/schema#resourceupdatednotification)) MCP-ржХрзЗ ржЬржЯрж┐рж▓ ржПржЬрзЗржирзНржЯ-ржЯрзБ-ржПржЬрзЗржирзНржЯ ржпрзЛржЧрж╛ржпрзЛржЧ ржмрзНржпржмрж╕рзНржерж╛ рждрзИрж░рж┐рж░ ржЬржирзНржп ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржнрж┐рждрзНрждрж┐ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗржЫрзЗред

## ржПржЬрзЗржирзНржЯ/ржЯрзБрж▓ рж╕ржорзНржкрж░рзНржХрзЗ ржнрзБрж▓ ржзрж╛рж░ржгрж╛

ржпржЦржи ржЖрж░ржУ ржмрзЗрж╢рж┐ ржбрзЗржнрзЗрж▓ржкрж╛рж░рж░рж╛ ржПржЬрзЗржирзНржЯрж┐ржХ ржЖржЪрж░ржгржпрзБржХрзНржд ржЯрзБрж▓ (ржжрзАрж░рзНржШ рж╕ржоржпрж╝ ржзрж░рзЗ ржЪрж▓рждрзЗ ржкрж╛рж░рзЗ, ржорж╛ржЭржкржерзЗ ржЕрждрж┐рж░рж┐ржХрзНржд ржЗржиржкрзБржЯ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣рждрзЗ ржкрж╛рж░рзЗ ржЗрждрзНржпрж╛ржжрж┐) ржЕржирзНржмрзЗрж╖ржг ржХрж░рзЗржи, рждржЦржи ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг ржнрзБрж▓ ржзрж╛рж░ржгрж╛ рж╣ржпрж╝ ржпрзЗ MCP ржПржЗ ржзрж░ржирзЗрж░ ржмрзНржпржмрж╕рзНржерж╛рж░ ржЬржирзНржп ржЙржкржпрзБржХрзНржд ржиржпрж╝ред ржПрж░ ржХрж╛рж░ржг MCP-ржПрж░ ржкрзНрж░рж╛ржержорж┐ржХ ржЯрзБрж▓ ржкрзНрж░рж┐ржорж┐ржЯрж┐ржн ржЙржжрж╛рж╣рж░ржгржЧрзБрж▓рзЛ рж╕рж╛ржзрж╛рж░ржгржд рж╕рж╣ржЬ ржЕржирзБрж░рзЛржз-ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ ржкрзНржпрж╛ржЯрж╛рж░рзНржирзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржЫрж┐рж▓ред

ржПржЗ ржзрж╛рж░ржгрж╛ ржПржЦржи ржкрзБрж░ржирзЛред MCP рж╕рзНржкрзЗрж╕рж┐ржлрж┐ржХрзЗрж╢ржи ржЧржд ржХржпрж╝рзЗржХ ржорж╛рж╕рзЗ ржЙрж▓рзНрж▓рзЗржЦржпрзЛржЧрзНржпржнрж╛ржмрзЗ ржЙржирзНржиржд рж╣ржпрж╝рзЗржЫрзЗ, ржпрж╛ ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА ржПржЬрзЗржирзНржЯрж┐ржХ ржЖржЪрж░ржг рждрзИрж░рж┐рж░ ржЬржирзНржп ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржХрзНрж╖ржорждрж╛ржЧрзБрж▓рзЛрж░ ржлрж╛ржБржХ ржкрзВрж░ржг ржХрж░рзЗржЫрзЗ:

- **рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ ржПржмржВ ржЖржВрж╢рж┐ржХ ржлрж▓рж╛ржлрж▓**: ржХрж╛рж░рзНржп рж╕ржорзНржкрж╛ржжржирзЗрж░ рж╕ржоржпрж╝ рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржЕржЧрзНрж░ржЧрждрж┐ ржЖржкржбрзЗржЯ
- **ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧржпрзЛржЧрзНржпрждрж╛**: рж╕ржВржпрзЛржЧ ржмрж┐ржЪрзНржЫрж┐ржирзНржи рж╣ржУржпрж╝рж╛рж░ ржкрж░ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржПржмржВ ржХрж╛ржЬ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ
- **ржЯрзЗржХрж╕ржЗрждрж╛**: рж╕рж╛рж░рзНржнрж╛рж░ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯрзЗрж░ ржкрж░рзЗржУ ржлрж▓рж╛ржлрж▓ ржЯрж┐ржХрзЗ ржерж╛ржХрзЗ (ржпрзЗржоржи, рж░рж┐рж╕рзЛрж░рзНрж╕ рж▓рж┐ржЩрзНржХрзЗрж░ ржорж╛ржзрзНржпржорзЗ)
- **ржорж╛рж▓рзНржЯрж┐-ржЯрж╛рж░рзНржи**: ржХрж╛рж░рзНржп рж╕ржорзНржкрж╛ржжржирзЗрж░ ржорж╛ржЭржкржерзЗ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХржЯрж┐ржн ржЗржиржкрзБржЯ

ржПржЗ ржмрзИрж╢рж┐рж╖рзНржЯрзНржпржЧрзБрж▓рзЛ MCP ржкрзНрж░рзЛржЯрзЛржХрж▓рзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржЬржЯрж┐рж▓ ржПржЬрзЗржирзНржЯрж┐ржХ ржПржмржВ ржорж╛рж▓рзНржЯрж┐-ржПржЬрзЗржирзНржЯ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рждрзИрж░рж┐ ржХрж░рждрзЗ рж╕ржХрзНрж╖ржоред

рж░рзЗржлрж╛рж░рзЗржирзНрж╕рзЗрж░ ржЬржирзНржп, ржЖржорж░рж╛ ржПржХржЯрж┐ ржПржЬрзЗржирзНржЯржХрзЗ "ржЯрзБрж▓" рж╣рж┐рж╕рзЗржмрзЗ ржЙрж▓рзНрж▓рзЗржЦ ржХрж░ржм ржпрж╛ MCP рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржЙржкрж▓ржмрзНржзред ржПрж░ ржЕрж░рзНрже ржПржХржЯрж┐ рж╣рзЛрж╕рзНржЯ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗрж░ ржЕрж╕рзНрждрж┐рждрзНржм, ржпрж╛ MCP ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржи ржХрж░рзЗ, MCP рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржПржХржЯрж┐ рж╕рзЗрж╢ржи рж╕рзНржерж╛ржкржи ржХрж░рзЗ ржПржмржВ ржПржЬрзЗржирзНржЯржХрзЗ ржХрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

## MCP ржЯрзБрж▓ржХрзЗ "ржПржЬрзЗржирзНржЯрж┐ржХ" ржХрзА ржХрж░рзЗ рждрзЛрж▓рзЗ?

ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржирзЗ ржпрж╛ржУржпрж╝рж╛рж░ ржЖржЧрзЗ, ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА ржПржЬрзЗржирзНржЯржХрзЗ рж╕ржорж░рзНржержи ржХрж░рж╛рж░ ржЬржирзНржп ржХрзА ржзрж░ржирзЗрж░ ржЕржмржХрж╛ржарж╛ржорзЛ ржХрзНрж╖ржорждрж╛ ржкрзНрж░ржпрж╝рзЛржЬржи рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛ ржпрж╛ржХред

> ржЖржорж░рж╛ ржПржХржЯрж┐ ржПржЬрзЗржирзНржЯржХрзЗ ржПржоржи ржПржХржЯрж┐ рж╕рждрзНрждрж╛ рж╣рж┐рж╕рзЗржмрзЗ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░ржм ржпрж╛ ржжрзАрж░рзНржШ рж╕ржоржпрж╝ ржзрж░рзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рждрзЗ ржкрж╛рж░рзЗ, ржЬржЯрж┐рж▓ ржХрж╛ржЬ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рждрзЗ рж╕ржХрзНрж╖ржо ржпрж╛ ржПржХрж╛ржзрж┐ржХ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрж╢ржи ржмрж╛ рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржлрж┐ржбржмрзНржпрж╛ржХрзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ рж╕ржоржирзНржмржпрж╝ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣рждрзЗ ржкрж╛рж░рзЗред

### рзз. рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ ржПржмржВ ржЖржВрж╢рж┐ржХ ржлрж▓рж╛ржлрж▓

ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА ржХрж╛ржЬрзЗрж░ ржЬржирзНржп ржРрждрж┐рж╣рзНржпржмрж╛рж╣рзА ржЕржирзБрж░рзЛржз-ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржХрж╛ржЬ ржХрж░рзЗ ржирж╛ред ржПржЬрзЗржирзНржЯржжрзЗрж░ ржкрзНрж░ржпрж╝рзЛржЬржи:

- рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржЕржЧрзНрж░ржЧрждрж┐ ржЖржкржбрзЗржЯ
- ржоржзрзНржпржмрж░рзНрждрзА ржлрж▓рж╛ржлрж▓

**MCP рж╕ржорж░рзНржержи**: рж░рж┐рж╕рзЛрж░рзНрж╕ ржЖржкржбрзЗржЯ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржЖржВрж╢рж┐ржХ ржлрж▓рж╛ржлрж▓ рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ рж╕ржХрзНрж╖ржо ржХрж░рзЗ, ржпржжрж┐ржУ ржПржЯрж┐ JSON-RPC-ржПрж░ рзз:рзз ржЕржирзБрж░рзЛржз/ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ ржоржбрзЗрж▓рзЗрж░ рж╕рж╛ржерзЗ рж╕ржВржШрж░рзНрж╖ ржПржбрж╝рж╛рждрзЗ рж╕рж╛ржмржзрж╛ржирзЗ ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛ ржкрзНрж░ржпрж╝рзЛржЬржиред

| ржмрзИрж╢рж┐рж╖рзНржЯрзНржп                  | ржмрзНржпржмрж╣рж╛рж░ ржХрзНрж╖рзЗрждрзНрж░                                                                                                                                                                       | MCP рж╕ржорж░рзНржержи                                                                                |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------ |
| рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржЕржЧрзНрж░ржЧрждрж┐ ржЖржкржбрзЗржЯ | ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржПржХржЯрж┐ ржХрзЛржбржмрзЗрж╕ ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржХрж╛ржЬрзЗрж░ ржЕржирзБрж░рзЛржз ржХрж░рзЗред ржПржЬрзЗржирзНржЯ ржЕржЧрзНрж░ржЧрждрж┐ рж╕рзНржЯрзНрж░рж┐ржо ржХрж░рзЗ: "рззрзж% - ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ... рзирзл% - ржЯрж╛ржЗржкрж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржлрж╛ржЗрж▓ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ... рзлрзж% - ржЗржоржкрзЛрж░рзНржЯ ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ..."          | тЬЕ ржЕржЧрзНрж░ржЧрждрж┐ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи                                                                  |
| ржЖржВрж╢рж┐ржХ ржлрж▓рж╛ржлрж▓            | "ржПржХржЯрж┐ ржмржЗ рждрзИрж░рж┐ ржХрж░рзБржи" ржХрж╛ржЬржЯрж┐ ржЖржВрж╢рж┐ржХ ржлрж▓рж╛ржлрж▓ рж╕рзНржЯрзНрж░рж┐ржо ржХрж░рзЗ, ржпрзЗржоржи рзз) ржЧрж▓рзНржкрзЗрж░ ржЖрж░рзНржХ ржЖржЙржЯрж▓рж╛ржЗржи, рзи) ржЕржзрзНржпрж╛ржпрж╝рзЗрж░ рждрж╛рж▓рж┐ржХрж╛, рзй) ржкрзНрж░рждрж┐ржЯрж┐ ржЕржзрзНржпрж╛ржпрж╝ рж╕ржорзНржкржирзНржи рж╣ржУржпрж╝рж╛рж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗред рж╣рзЛрж╕рзНржЯ ржпрзЗ ржХрзЛржирзЛ ржкрж░рзНржпрж╛ржпрж╝рзЗ ржкрж░рж┐ржжрж░рзНрж╢ржи, ржмрж╛рждрж┐рж▓ ржмрж╛ ржкрзБржиржГржирж┐рж░рзНржжрзЗрж╢ ржХрж░рждрзЗ ржкрж╛рж░рзЗред | тЬЕ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи "ржмрж░рзНржзрж┐ржд" рж╣рждрзЗ ржкрж╛рж░рзЗ ржЖржВрж╢рж┐ржХ ржлрж▓рж╛ржлрж▓ ржЕржирзНрждрж░рзНржнрзБржХрзНржд ржХрж░рждрзЗ, PR 383, 776 ржкрзНрж░рж╕рзНрждрж╛ржм ржжрзЗржЦрзБржи |

<div align="center" style="font-style: italic; font-size: 0.95em; margin-bottom: 0.5em;">
<strong>ржЪрж┐рждрзНрж░ рзз:</strong> ржПржЗ ржбрж╛ржпрж╝рж╛ржЧрзНрж░рж╛ржоржЯрж┐ ржжрзЗржЦрж╛ржпрж╝ ржХрзАржнрж╛ржмрзЗ MCP ржПржЬрзЗржирзНржЯ ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА ржХрж╛ржЬрзЗрж░ рж╕ржоржпрж╝ рж╣рзЛрж╕рзНржЯ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗ рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржЕржЧрзНрж░ржЧрждрж┐ ржЖржкржбрзЗржЯ ржПржмржВ ржЖржВрж╢рж┐ржХ ржлрж▓рж╛ржлрж▓ рж╕рзНржЯрзНрж░рж┐ржо ржХрж░рзЗ, ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржХрзЗ ржХрж╛рж░рзНржп рж╕ржорзНржкрж╛ржжржирзЗрж░ рж╕ржоржпрж╝ ржкрж░рзНржпржмрзЗржХрзНрж╖ржг ржХрж░рждрзЗ рж╕ржХрзНрж╖ржо ржХрж░рзЗред
</div>

```mermaid
sequenceDiagram
    participant User
    participant Host as Host App<br/>(MCP Client)
    participant Server as MCP Server<br/>(Agent Tool)

    User->>Host: Start long task
    Host->>Server: Call agent_tool()

    loop Progress Updates
        Server-->>Host: Progress + partial results
        Host-->>User: Stream updates
    end

    Server-->>Host: тЬЕ Final result
    Host-->>User: Complete
```

### рзи. ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧржпрзЛржЧрзНржпрждрж╛

ржПржЬрзЗржирзНржЯржжрзЗрж░ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржмрж┐ржШрзНржиржХрзЗ ржжржХрзНрж╖рждрж╛рж░ рж╕рж╛ржерзЗ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рждрзЗ рж╣ржмрзЗ:

- рж╕ржВржпрзЛржЧ ржмрж┐ржЪрзНржЫрж┐ржирзНржи рж╣ржУржпрж╝рж╛рж░ ржкрж░ ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧ
- ржпрзЗржЦрж╛ржирзЗ ржерзЗржорзЗржЫрж┐рж▓ рж╕рзЗржЦрж╛ржи ржерзЗржХрзЗ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржпрж╛ржУржпрж╝рж╛ (ржмрж╛рж░рзНрждрж╛ ржкрзБржиржГржкрзНрж░рзЗрж░ржг)

**MCP рж╕ржорж░рзНржержи**: MCP StreamableHTTP ржЯрзНрж░рж╛ржирзНрж╕ржкрзЛрж░рзНржЯ ржмрж░рзНрждржорж╛ржирзЗ рж╕рзЗрж╢ржи ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧ ржПржмржВ ржмрж╛рж░рзНрждрж╛ ржкрзБржиржГржкрзНрж░рзЗрж░ржг рж╕рзЗрж╢ржи ржЖржЗржбрж┐ ржПржмржВ рж╢рзЗрж╖ ржЗржнрзЗржирзНржЯ ржЖржЗржбрж┐ рж╕рж╣ рж╕ржорж░рзНржержи ржХрж░рзЗред ржПржЦрж╛ржирзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржмрж┐рж╖ржпрж╝ рж╣рж▓ рж╕рж╛рж░рзНржнрж╛рж░ржХрзЗ ржПржХржЯрж┐ EventStore ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржи ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧрзЗрж░ рж╕ржоржпрж╝ ржЗржнрзЗржирзНржЯ ржкрзБржирж░рж╛ржпрж╝ ржЪрж╛рж▓рж╛ржирзЛрж░ ржЕржирзБржорждрж┐ ржжрзЗржпрж╝ред  
ржПржЦрж╛ржирзЗ ржПржХржЯрж┐ рж╕ржорзНржкрзНрж░ржжрж╛ржпрж╝ ржкрзНрж░рж╕рзНрждрж╛ржм (PR #975) рж░ржпрж╝рзЗржЫрзЗ ржпрж╛ ржЯрзНрж░рж╛ржирзНрж╕ржкрзЛрж░рзНржЯ-ржЕрзНржпрж╛ржЧржирж╕рзНржЯрж┐ржХ ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧржпрзЛржЧрзНржп рж╕рзНржЯрзНрж░рж┐ржо ржЕржирзНржмрзЗрж╖ржг ржХрж░рзЗред

| ржмрзИрж╢рж┐рж╖рзНржЯрзНржп      | ржмрзНржпржмрж╣рж╛рж░ ржХрзНрж╖рзЗрждрзНрж░                                                                                                                                                   | MCP рж╕ржорж░рзНржержи                                                                |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧржпрзЛржЧрзНржпрждрж╛ | ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА ржХрж╛ржЬрзЗрж░ рж╕ржоржпрж╝ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ рж╕ржВржпрзЛржЧ ржмрж┐ржЪрзНржЫрж┐ржирзНржи рж╣ржпрж╝ред ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧрзЗрж░ ржкрж░, рж╕рзЗрж╢ржи ржкрзБржирж░рж╛ржпрж╝ рж╢рзБрж░рзБ рж╣ржпрж╝ ржПржмржВ ржорж┐рж╕ рж╣ржУржпрж╝рж╛ ржЗржнрзЗржирзНржЯржЧрзБрж▓рзЛ ржкрзБржирж░рж╛ржпрж╝ ржЪрж╛рж▓рж╛ржирзЛ рж╣ржпрж╝, ржирж┐рж░рзНржмрж┐ржШрзНржирзЗ ржпрзЗржЦрж╛ржирзЗ ржерзЗржорзЗржЫрж┐рж▓ рж╕рзЗржЦрж╛ржи ржерзЗржХрзЗ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржпрж╛ржпрж╝ред | тЬЕ StreamableHTTP ржЯрзНрж░рж╛ржирзНрж╕ржкрзЛрж░рзНржЯ рж╕рзЗрж╢ржи ржЖржЗржбрж┐, ржЗржнрзЗржирзНржЯ ржкрзБржирж░рж╛ржпрж╝ ржЪрж╛рж▓рж╛ржирзЛ ржПржмржВ EventStore рж╕рж╣ |

<div align="center" style="font-style: italic; font-size: 0.95em; margin-bottom: 0.5em;">
<strong>ржЪрж┐рждрзНрж░ рзи:</strong> ржПржЗ ржбрж╛ржпрж╝рж╛ржЧрзНрж░рж╛ржоржЯрж┐ ржжрзЗржЦрж╛ржпрж╝ ржХрзАржнрж╛ржмрзЗ MCP-ржПрж░ StreamableHTTP ржЯрзНрж░рж╛ржирзНрж╕ржкрзЛрж░рзНржЯ ржПржмржВ ржЗржнрзЗржирзНржЯ рж╕рзНржЯрзЛрж░ рж╕рзЗрж╢ржи ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧ рж╕ржХрзНрж╖ржо ржХрж░рзЗ: ржпржжрж┐ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ рж╕ржВржпрзЛржЧ ржмрж┐ржЪрзНржЫрж┐ржирзНржи рж╣ржпрж╝, ржПржЯрж┐ ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржПржмржВ ржорж┐рж╕ рж╣ржУржпрж╝рж╛ ржЗржнрзЗржирзНржЯржЧрзБрж▓рзЛ ржкрзБржирж░рж╛ржпрж╝ ржЪрж╛рж▓рж╛рждрзЗ ржкрж╛рж░рзЗ, ржХрж╛рж░рзНржпржХрзНрж░ржорзЗ ржХрзЛржирзЛ ржЕржЧрзНрж░ржЧрждрж┐ рж╣рж╛рж░рж╛ржирзЛ ржЫрж╛ржбрж╝рж╛ржЗред
</div>

```mermaid
sequenceDiagram
    participant User
    participant Host as Host App<br/>(MCP Client)
    participant Server as MCP Server<br/>(Agent Tool)
    participant Store as Event Store

    User->>Host: Start task
    Host->>Server: Call tool [session: abc123]
    Server->>Store: Save events

    Note over Host,Server: ЁЯТе Connection lost

    Host->>Server: Reconnect [session: abc123]
    Store-->>Server: Replay events
    Server-->>Host: Catch up + continue
    Host-->>User: тЬЕ Complete
```

### рзй. ржЯрзЗржХрж╕ржЗрждрж╛

ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА ржПржЬрзЗржирзНржЯржжрзЗрж░ рж╕рзНржерж╛ржпрж╝рзА ржЕржмрж╕рзНржерж╛ ржкрзНрж░ржпрж╝рзЛржЬржи:

- ржлрж▓рж╛ржлрж▓ рж╕рж╛рж░рзНржнрж╛рж░ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯрзЗрж░ ржкрж░рзЗржУ ржЯрж┐ржХрзЗ ржерж╛ржХрзЗ
- рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржмрж╛ржЗрж░рзЗрж░ ржорж╛ржзрзНржпржорзЗ ржкрзБржирж░рзБржжрзНржзрж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝
- рж╕рзЗрж╢ржи ржЬрзБржбрж╝рзЗ ржЕржЧрзНрж░ржЧрждрж┐ ржЯрзНрж░рзНржпрж╛ржХрж┐ржВ

**MCP рж╕ржорж░рзНржержи**: MCP ржПржЦржи ржЯрзБрж▓ ржХрж▓рзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ рж░рж┐рж╕рзЛрж░рзНрж╕ рж▓рж┐ржЩрзНржХ рж░рж┐ржЯрж╛рж░рзНржи ржЯрж╛ржЗржк рж╕ржорж░рзНржержи ржХрж░рзЗред ржЖржЬ, ржПржХржЯрж┐ рж╕ржорзНржнрж╛ржмрзНржп ржкрзНржпрж╛ржЯрж╛рж░рзНржи рж╣рж▓ ржПржХржЯрж┐ ржЯрзБрж▓ ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛ ржпрж╛ ржПржХржЯрж┐ рж░рж┐рж╕рзЛрж░рзНрж╕ рждрзИрж░рж┐ ржХрж░рзЗ ржПржмржВ рждрж╛рзОржХрзНрж╖ржгрж┐ржХржнрж╛ржмрзЗ ржПржХржЯрж┐ рж░рж┐рж╕рзЛрж░рзНрж╕ рж▓рж┐ржЩрзНржХ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред ржЯрзБрж▓ржЯрж┐ ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржбрзЗ ржХрж╛ржЬ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ ржПржмржВ рж░рж┐рж╕рзЛрж░рзНрж╕ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржкрж░рж┐ржмрж░рзНрждрзЗ, ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ ржПржЗ рж░рж┐рж╕рзЛрж░рзНрж╕рзЗрж░ рж╕рзНржЯрзЗржЯ ржкрзЛрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржЖржВрж╢рж┐ржХ ржмрж╛ рж╕ржорзНржкрзВрж░рзНржг ржлрж▓рж╛ржлрж▓ ржкрзЗрждрзЗ (ржпрзЗ рж░рж┐рж╕рзЛрж░рзНрж╕ ржЖржкржбрзЗржЯржЧрзБрж▓рзЛ рж╕рж╛рж░рзНржнрж╛рж░ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗ рждрж╛рж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ) ржмрж╛ ржЖржкржбрзЗржЯ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржирзЗрж░ ржЬржирзНржп рж░рж┐рж╕рзЛрж░рзНрж╕ рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рждрзЗ ржкрж╛рж░рзЗред

ржПржЦрж╛ржирзЗ ржПржХржЯрж┐ рж╕рзАржорж╛ржмржжрзНржзрждрж╛ рж╣рж▓ ржпрзЗ рж░рж┐рж╕рзЛрж░рзНрж╕ ржкрзЛрж▓рж┐ржВ ржмрж╛ ржЖржкржбрзЗржЯрзЗрж░ ржЬржирзНржп рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рж╛ рж╕рзНржХрзЗрж▓рзЗ ржкрзНрж░ржнрж╛ржм рж╕рж╣ рж╕ржорзНржкржж ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржПржЦрж╛ржирзЗ ржПржХржЯрж┐ рж╕ржорзНржкрзНрж░ржжрж╛ржпрж╝ ржкрзНрж░рж╕рзНрждрж╛ржм (ржпрзЗржоржи #992) рж░ржпрж╝рзЗржЫрзЗ ржпрж╛ ржУржпрж╝рзЗржмрж╣рзБржХ ржмрж╛ ржЯрзНрж░рж┐ржЧрж╛рж░ ржЕржирзНрждрж░рзНржнрзБржХрзНржд ржХрж░рж╛рж░ рж╕ржорзНржнрж╛ржмржирж╛ ржЕржирзНржмрзЗрж╖ржг ржХрж░рзЗ ржпрж╛ рж╕рж╛рж░рзНржнрж╛рж░ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ/рж╣рзЛрж╕рзНржЯ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржХрзЗ ржЖржкржбрзЗржЯрзЗрж░ ржЬржирзНржп ржХрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

| ржмрзИрж╢рж┐рж╖рзНржЯрзНржп    | ржмрзНржпржмрж╣рж╛рж░ ржХрзНрж╖рзЗрждрзНрж░                                                                                                                                        | MCP рж╕ржорж░рзНржержи                                                        |
| ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------ |
| ржЯрзЗржХрж╕ржЗрждрж╛ | ржбрзЗржЯрж╛ ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржХрж╛ржЬрзЗрж░ рж╕ржоржпрж╝ рж╕рж╛рж░рзНржнрж╛рж░ ржХрзНрж░рзНржпрж╛рж╢ ржХрж░рзЗред ржлрж▓рж╛ржлрж▓ ржПржмржВ ржЕржЧрзНрж░ржЧрждрж┐ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯрзЗрж░ ржкрж░рзЗржУ ржЯрж┐ржХрзЗ ржерж╛ржХрзЗ, ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржЪрзЗржХ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржПржмржВ рж╕рзНржерж╛ржпрж╝рзА рж░рж┐рж╕рзЛрж░рзНрж╕ ржерзЗржХрзЗ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред | тЬЕ рж░рж┐рж╕рзЛрж░рзНрж╕ рж▓рж┐ржЩрзНржХ рж╕рзНржерж╛ржпрж╝рзА рж╕рзНржЯрзЛрж░рзЗржЬ ржПржмржВ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи рж╕рж╣ |

ржЖржЬ, ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг ржкрзНржпрж╛ржЯрж╛рж░рзНржи рж╣рж▓ ржПржХржЯрж┐ ржЯрзБрж▓ ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛ ржпрж╛ ржПржХржЯрж┐ рж░рж┐рж╕рзЛрж░рзНрж╕ рждрзИрж░рж┐ ржХрж░рзЗ ржПржмржВ рждрж╛рзОржХрзНрж╖ржгрж┐ржХржнрж╛ржмрзЗ ржПржХржЯрж┐ рж░рж┐рж╕рзЛрж░рзНрж╕ рж▓рж┐ржЩрзНржХ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред ржЯрзБрж▓ржЯрж┐ ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржбрзЗ ржХрж╛ржЬ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ, рж░рж┐рж╕рзЛрж░рзНрж╕ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржкрзНрж░ржжрж╛ржи ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржпрж╛ ржЕржЧрзНрж░ржЧрждрж┐ ржЖржкржбрзЗржЯ рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ ржмрж╛ ржЖржВрж╢рж┐ржХ ржлрж▓рж╛ржлрж▓ ржЕржирзНрждрж░рзНржнрзБржХрзНржд ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржПржмржВ ржкрзНрж░ржпрж╝рзЛржЬржи ржЕржирзБржпрж╛ржпрж╝рзА рж░рж┐рж╕рзЛрж░рзНрж╕рзЗрж░ ржмрж┐рж╖ржпрж╝ржмрж╕рзНрждрзБ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

<div align="center" style="font-style: italic; font-size: 0.95em; margin-bottom: 0.5em;">
<strong>ржЪрж┐рждрзНрж░ рзй:</strong> ржПржЗ ржбрж╛ржпрж╝рж╛ржЧрзНрж░рж╛ржоржЯрж┐ ржжрзЗржЦрж╛ржпрж╝ ржХрзАржнрж╛ржмрзЗ MCP ржПржЬрзЗржирзНржЯ рж╕рзНржерж╛ржпрж╝рзА рж░рж┐рж╕рзЛрж░рзНрж╕ ржПржмржВ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА ржХрж╛ржЬржЧрзБрж▓рзЛ рж╕рж╛рж░рзНржнрж╛рж░ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯрзЗрж░ ржкрж░рзЗржУ ржЯрж┐ржХрзЗ ржерж╛ржХрзЗ, ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯржХрзЗ ржЕржЧрзНрж░ржЧрждрж┐ ржЪрзЗржХ ржХрж░рждрзЗ ржПржмржВ ржмрзНржпрж░рзНржерждрж╛рж░ ржкрж░рзЗржУ ржлрж▓рж╛ржлрж▓ ржкрзБржирж░рзБржжрзНржзрж╛рж░ ржХрж░рждрзЗ рж╕ржХрзНрж╖ржо ржХрж░рзЗред
</div>

```mermaid
sequenceDiagram
    participant User
    participant Host as Host App<br/>(MCP Client)
    participant Server as MCP Server<br/>(Agent Tool)
    participant DB as Persistent Storage

    User->>Host: Start task
    Host->>Server: Call tool
    Server->>DB: Create resource + updates
    Server-->>Host: ЁЯФЧ Resource link

    Note over Server: ЁЯТе Server restart

    User->>Host: Check status
    Host->>Server: Get resource
    Server->>DB: Load state
    Server-->>Host: Current progress
    Server->>DB: Complete + notify
    Host-->>User: тЬЕ Complete
```

### рзк. ржорж╛рж▓рзНржЯрж┐-ржЯрж╛рж░рзНржи ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрж╢ржи

ржПржЬрзЗржирзНржЯржжрзЗрж░ ржХрж╛рж░рзНржп рж╕ржорзНржкрж╛ржжржирзЗрж░ ржорж╛ржЭржкржерзЗ ржЕрждрж┐рж░рж┐ржХрзНржд ржЗржиржкрзБржЯ ржкрзНрж░ржпрж╝рзЛржЬржи рж╣рждрзЗ ржкрж╛рж░рзЗ:

- ржорж╛ржиржм рж╕рзНржкрж╖рзНржЯрзАржХрж░ржг ржмрж╛ ржЕржирзБржорзЛржжржи
- ржЬржЯрж┐рж▓ рж╕рж┐ржжрзНржзрж╛ржирзНрждрзЗрж░ ржЬржирзНржп AI рж╕рж╣рж╛ржпрж╝рждрж╛
- ржЧрждрж┐рж╢рзАрж▓ ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ рж╕ржоржирзНржмржпрж╝

**MCP рж╕ржорж░рзНржержи**: рж╕ржорзНржкрзВрж░рзНржгржнрж╛ржмрзЗ рж╕ржорж░рзНржерж┐ржд рж╕рзНржпрж╛ржорзНржкрж▓рж┐ржВ (AI ржЗржиржкрзБржЯрзЗрж░ ржЬржирзНржп) ржПржмржВ ржПрж▓рж┐рж╕рж┐ржЯрзЗрж╢ржи (ржорж╛ржиржм ржЗржиржкрзБржЯрзЗрж░ ржЬржирзНржп) ржПрж░ ржорж╛ржзрзНржпржорзЗред

| ржмрзИрж╢рж┐рж╖рзНржЯрзНржп                 | ржмрзНржпржмрж╣рж╛рж░ ржХрзНрж╖рзЗрждрзНрж░                                                                                                                                     | MCP рж╕ржорж░рзНржержи                                           |
| ----------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------- |
| ржорж╛рж▓рзНржЯрж┐-ржЯрж╛рж░рзНржи ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрж╢ржи | ржнрзНрж░ржоржг ржмрзБржХрж┐ржВ ржПржЬрзЗржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржХрж╛ржЫ ржерзЗржХрзЗ ржорзВрж▓рзНржп ржирж┐рж╢рзНржЪрж┐рждржХрж░ржг ржЕржирзБрж░рзЛржз ржХрж░рзЗ, рждрж╛рж░ржкрж░ AI-ржХрзЗ ржнрзНрж░ржоржг ржбрзЗржЯрж╛ рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржХрж░рждрзЗ ржмрж▓рзЗ, ржПржмржВ рждрж╛рж░ржкрж░ ржмрзБржХрж┐ржВ рж▓рзЗржиржжрзЗржи рж╕ржорзНржкржирзНржи ржХрж░рзЗред | тЬЕ ржорж╛ржиржм ржЗржиржкрзБржЯрзЗрж░ ржЬржирзНржп ржПрж▓рж┐рж╕рж┐ржЯрзЗрж╢ржи, AI ржЗржиржкрзБржЯрзЗрж░ ржЬржирзНржп рж╕рзНржпрж╛ржорзНржкрж▓рж┐ржВ |

<div align="center" style="font-style: italic; font-size: 0.95em; margin-bottom: 0.5em;">
<strong>ржЪрж┐рждрзНрж░ рзк:</strong> ржПржЗ ржбрж╛ржпрж╝рж╛ржЧрзНрж░рж╛ржоржЯрж┐ ржжрзЗржЦрж╛ржпрж╝ ржХрзАржнрж╛ржмрзЗ MCP ржПржЬрзЗржирзНржЯ ржХрж╛рж░рзНржп рж╕ржорзНржкрж╛ржжржирзЗрж░ ржорж╛ржЭржкржерзЗ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХржЯрж┐ржнржнрж╛ржмрзЗ ржорж╛ржиржм ржЗржиржкрзБржЯ рж╕ржВржЧрзНрж░рж╣ ржХрж░рждрзЗ ржмрж╛ AI рж╕рж╣рж╛ржпрж╝рждрж╛ ржЕржирзБрж░рзЛржз ржХрж░рждрзЗ ржкрж╛рж░рзЗ, ржЬржЯрж┐рж▓, ржорж╛рж▓рзНржЯрж┐-ржЯрж╛рж░рзНржи ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ ржпрзЗржоржи ржирж┐рж╢рзНржЪрж┐рждржХрж░ржг ржПржмржВ ржЧрждрж┐рж╢рзАрж▓ рж╕рж┐ржжрзНржзрж╛ржирзНржд ржЧрзНрж░рж╣ржг рж╕ржорж░рзНржержи ржХрж░рзЗред
</div>

```mermaid
sequenceDiagram
    participant User
    participant Host as Host App<br/>(MCP Client)
    participant Server as MCP Server<br/>(Agent Tool)

    User->>Host: Book flight
    Host->>Server: Call travel_agent

    Server->>Host: Elicitation: "Confirm $500?"
    Note over Host: Elicitation callback (if available)
    Host->>User: ЁЯТ░ Confirm price?
    User->>Host: "Yes"
    Host->>Server: Confirmed

    Server->>Host: Sampling: "Summarize data"
    Note over Host: AI callback (if available)
    Host->>Server: Report summary

    Server->>Host: тЬЕ Flight booked
```

## MCP-рждрзЗ ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА ржПржЬрзЗржирзНржЯ ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржи - ржХрзЛржб ржУржнрж╛рж░ржнрж┐ржЙ

ржПржЗ ржирж┐ржмржирзНржзрзЗрж░ ржЕржВрж╢ рж╣рж┐рж╕рзЗржмрзЗ, ржЖржорж░рж╛ ржПржХржЯрж┐ [ржХрзЛржб рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐](https://github.com/victordibia/ai-tutorials/tree/main/MCP%20Agents) ржкрзНрж░ржжрж╛ржи ржХрж░рзЗржЫрж┐ ржпрж╛ MCP Python SDK ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ StreamableHTTP ржЯрзНрж░рж╛ржирзНрж╕ржкрзЛрж░рзНржЯрзЗрж░ ржорж╛ржзрзНржпржорзЗ рж╕рзЗрж╢ржи ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧ ржПржмржВ ржмрж╛рж░рзНрждрж╛ ржкрзБржиржГржкрзНрж░рзЗрж░ржг рж╕рж╣ ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА ржПржЬрзЗржирзНржЯ ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржирзЗрж░ рж╕ржорзНржкрзВрж░рзНржг ржЙржжрж╛рж╣рж░ржг ржЕржирзНрждрж░рзНржнрзБржХрзНржд ржХрж░рзЗред ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржиржЯрж┐ ржжрзЗржЦрж╛ржпрж╝ ржХрзАржнрж╛ржмрзЗ MCP ржХрзНрж╖ржорждрж╛ржЧрзБрж▓рзЛржХрзЗ рж╕ржВржпрзБржХрзНржд ржХрж░рзЗ ржЙржирзНржиржд ржПржЬрзЗржирзНржЯ-рж╕ржжрзГрж╢ ржЖржЪрж░ржг рж╕ржХрзНрж╖ржо ржХрж░рж╛ ржпрж╛ржпрж╝ред

ржмрж┐рж╢рзЗрж╖ржнрж╛ржмрзЗ, ржЖржорж░рж╛ ржжрзБржЯрж┐ ржкрзНрж░ржзрж╛ржи ржПржЬрзЗржирзНржЯ ржЯрзБрж▓ рж╕рж╣ ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░ ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржи ржХрж░рзЗржЫрж┐:

- **ржЯрзНрж░рж╛ржнрзЗрж▓ ржПржЬрзЗржирзНржЯ** - ржПрж▓рж┐рж╕рж┐ржЯрзЗрж╢ржирзЗрж░ ржорж╛ржзрзНржпржорзЗ ржорзВрж▓рзНржп ржирж┐рж╢рзНржЪрж┐рждржХрж░ржг рж╕рж╣ ржПржХржЯрж┐ ржнрзНрж░ржоржг ржмрзБржХрж┐ржВ ржкрж░рж┐рж╖рзЗржмрж╛ ржЕржирзБржХрж░ржг ржХрж░рзЗ
- **рж░рж┐рж╕рж╛рж░рзНржЪ ржПржЬрзЗржирзНржЯ** - рж╕рзНржпрж╛ржорзНржкрж▓рж┐ржВржпрж╝рзЗрж░ ржорж╛ржзрзНржпржорзЗ AI-рж╕рж╣рж╛ржпрж╝ржХ рж╕рж╛рж░рж╛ржВрж╢ рж╕рж╣ ржЧржмрзЗрж╖ржгрж╛ ржХрж╛ржЬ рж╕ржорзНржкрж╛ржжржи ржХрж░рзЗ

ржЙржнржпрж╝ ржПржЬрзЗржирзНржЯ рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржЕржЧрзНрж░ржЧрждрж┐ ржЖржкржбрзЗржЯ, ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХржЯрж┐ржн ржирж┐рж╢рзНржЪрж┐рждржХрж░ржг ржПржмржВ рж╕ржорзНржкрзВрж░рзНржг рж╕рзЗрж╢ржи ржкрзБржирж░рж╛ржпрж╝ рж╕ржВржпрзЛржЧ рж╕ржХрзНрж╖ржорждрж╛ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рзЗред

### ржорзВрж▓ ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржи ржзрж╛рж░ржгрж╛

ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржмрж┐ржнрж╛ржЧржЧрзБрж▓рзЛ ржкрзНрж░рждрж┐ржЯрж┐ ржХрзНрж╖ржорждрж╛рж░ ржЬржирзНржп рж╕рж╛рж░рзНржнрж╛рж░-рж╕рж╛ржЗржб ржПржЬрзЗржирзНржЯ ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржи ржПржмржВ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ-рж╕рж╛ржЗржб рж╣рзЛрж╕рзНржЯ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржжрзЗржЦрж╛ржпрж╝:

#### рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ ржПржмржВ ржЕржЧрзНрж░ржЧрждрж┐ ржЖржкржбрзЗржЯ - рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржХрж╛ржЬрзЗрж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕

рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ ржПржЬрзЗржирзНржЯржжрзЗрж░ ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА ржХрж╛ржЬрзЗрж░ рж╕ржоржпрж╝ рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржЕржЧрзНрж░ржЧрждрж┐ ржЖржкржбрзЗржЯ ржкрзНрж░ржжрж╛ржи ржХрж░рждрзЗ рж╕ржХрзНрж╖ржо ржХрж░рзЗ, ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржжрзЗрж░ ржХрж╛ржЬрзЗрж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржПржмржВ ржоржзрзНржпржмрж░рзНрждрзА ржлрж▓рж╛ржлрж▓ рж╕ржорзНржкрж░рзНржХрзЗ ржЕржмрж╣рж┐ржд рж░рж╛ржЦрзЗред

**рж╕рж╛рж░рзНржнрж╛рж░ ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржи (ржПржЬрзЗржирзНржЯ ржЕржЧрзНрж░ржЧрждрж┐ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржкрж╛ржарж╛ржпрж╝):**

```python
# From server/server.py - Travel agent sending progress updates
for i, step in enumerate(steps):
    await ctx.session.send_progress_notification(
        progress_token=ctx.request_id,
        progress=i * 25,
        total=100,
        message=step,
        related_request_id=str(ctx.request_id)
    )
    await anyio.sleep(2)  # Simulate work

# Alternative: Log messages for detailed step-by-step updates
await ctx.session.send_log_message(
    level="info",
    data=f"Processing step {current_step}/{steps} ({progress_percent}%)",
    logger="long_running_agent",
    related_request_id=ctx.request_id,
)
```

**ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржи (рж╣рзЛрж╕рзНржЯ ржЕржЧрзНрж░ржЧрждрж┐ ржЖржкржбрзЗржЯ ржЧрзНрж░рж╣ржг ржХрж░рзЗ):**

```python
# From client/client.py - Client handling real-time notifications
async def message_handler(message) -> None:
    if isinstance(message, types.ServerNotification):
        if isinstance(message.root, types.LoggingMessageNotification):
            console.print(f"ЁЯУб [dim]{message.root.params.data}[/dim]")
        elif isinstance(message.root, types.ProgressNotification):
            progress = message.root.params
            console.print(f"ЁЯФД [yellow]{progress.message} ({progress.progress}/{progress.total})[/yellow]")

# Register message handler when creating session
async with ClientSession(
    read_stream, write_stream,
    message_handler=message_handler
) as session:
```

#### ржПрж▓рж┐рж╕рж┐ржЯрзЗрж╢ржи - ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЗржиржкрзБржЯ ржЕржирзБрж░рзЛржз ржХрж░рж╛

ржПрж▓рж┐рж╕рж┐ржЯрзЗрж╢ржи ржПржЬрзЗржирзНржЯржжрзЗрж░ ржХрж╛рж░рзНржп рж╕ржорзНржкрж╛ржжржирзЗрж░ ржорж╛ржЭржкржерзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЗржиржкрзБржЯ ржЕржирзБрж░рзЛржз ржХрж░рждрзЗ рж╕ржХрзНрж╖ржо ржХрж░рзЗред ржПржЯрж┐ ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА ржХрж╛ржЬрзЗрж░ рж╕ржоржпрж╝ ржирж┐рж╢рзНржЪрж┐рждржХрж░ржг, рж╕рзНржкрж╖рзНржЯрзАржХрж░ржг ржмрж╛ ржЕржирзБржорзЛржжржирзЗрж░ ржЬржирзНржп ржЕржкрж░рж┐рж╣

## Getting Started

Ready to build your own agent2agent system? Follow these steps:

### 1. Run the Demo

```bash
# Start the server with event store for resumption
python -m server.server --port 8006

# In another terminal, run the interactive client
python -m client.client --url http://127.0.0.1:8006/mcp
```

**Available commands in interactive mode:**

- `travel_agent` - Book travel with price confirmation via elicitation
- `research_agent` - Research topics with AI-assisted summaries via sampling
- `list` - Show all available tools
- `clean-tokens` - Clear resumption tokens
- `help` - Show detailed command help
- `quit` - Exit the client

### 2. Test Resumption Capabilities

- Start a long-running agent (e.g., `travel_agent`)
- Interrupt the client during execution (Ctrl+C)
- Restart the client - it will automatically resume from where it left off

### 3. Explore and Extend

- **Explore the examples**: Check out this [mcp-agents](https://github.com/victordibia/ai-tutorials/tree/main/MCP%20Agents)
- **Join the community**: Participate in MCP discussions on GitHub
- **Experiment**: Start with a simple long-running task and gradually add streaming, resumability, and multi-agent coordination

This demonstrates how MCP enables intelligent agent behaviors while maintaining tool-based simplicity.

Overall, the MCP protocol spec is evolving rapidly; the reader is encouraged to review the official documentation website for the most recent updates - https://modelcontextprotocol.io/introduction

---

**ржЕрж╕рзНржмрзАржХрзГрждрж┐**:  
ржПржЗ ржиржерж┐ржЯрж┐ AI ржЕржирзБржмрж╛ржж ржкрж░рж┐рж╖рзЗржмрж╛ [Co-op Translator](https://github.com/Azure/co-op-translator) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЕржирзБржмрж╛ржж ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред ржЖржорж░рж╛ ржпржерж╛рж╕ржорзНржнржм рж╕ржарж┐ржХ ржЕржирзБржмрж╛ржжрзЗрж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рж┐, рждржмрзЗ ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржоржирзЗ рж░рж╛ржЦржмрзЗржи ржпрзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржЕржирзБржмрж╛ржжрзЗ рждрзНрж░рзБржЯрж┐ ржмрж╛ ржЕрж╕ржЩрзНржЧрждрж┐ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред ржиржерж┐ржЯрж┐рж░ ржорзВрж▓ ржнрж╛рж╖рж╛ржпрж╝ рж▓рзЗржЦрж╛ рж╕ржВрж╕рзНржХрж░ржгржЯрж┐ржХрзЗржЗ ржкрзНрж░рж╛ржорж╛ржгрж┐ржХ ржЙрзОрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржмрж┐ржмрзЗржЪржирж╛ ржХрж░рж╛ ржЙржЪрж┐рждред ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг рждржерзНржпрзЗрж░ ржЬржирзНржп, ржкрзЗрж╢рж╛ржжрж╛рж░ ржорж╛ржиржм ржЕржирзБржмрж╛ржж ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржкрж░рж╛ржорж░рзНрж╢ ржжрзЗржУржпрж╝рж╛ рж╣ржЪрзНржЫрзЗред ржПржЗ ржЕржирзБржмрж╛ржж ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржлрж▓рзЗ рж╕рзГрж╖рзНржЯ ржХрзЛржирзЛ ржнрзБрж▓ ржмрзЛржЭрж╛ржмрзБржЭрж┐ ржмрж╛ ржнрзБрж▓ ржмрзНржпрж╛ржЦрзНржпрж╛рж░ ржЬржирзНржп ржЖржорж░рж╛ ржжрж╛ржпрж╝рзА ржиржЗред